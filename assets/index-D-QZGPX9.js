import{_ as D,f as B,h as E,I as r,c as d,a as t,d as c,b as i,w as u,E as I,F as x,j as y,r as b,o,u as V,t as n,v as g,s as _,J as N,K as S}from"./index-DN5jxiuq.js";const j={class:"order-list"},z={class:"order-toolbar"},A={class:"toolbar-actions"},F={class:"month-title"},R={class:"orders"},J=["id"],K={class:"order-header"},L={class:"order-main-info"},P={class:"order-date"},q={key:0,class:"today-badge"},H={class:"order-progress"},Q={class:"progress-text"},W={class:"count"},X={key:0,class:"percent"},Z={key:0,class:"progress-bar"},$={key:0,class:"order-details"},G={class:"detail-item"},tt={class:"detail-value pending"},st={class:"detail-item"},et={class:"detail-value success"},at={__name:"index",setup(dt){const h=B([{month:"2026-01",orders:[{id:13,date:"2026-01-15",status:"收單中",totalOrders:30,pickedUp:0,pending:0,expanded:!1},{id:14,date:"2026-01-12",status:"收單中",totalOrders:13,pickedUp:0,pending:0,expanded:!1},{id:15,date:"2026-01-11",status:"收單中",totalOrders:25,pickedUp:0,pending:0,expanded:!1},{id:0,date:"2026-01-10",status:"已結單",totalOrders:20,pickedUp:18,pending:2,expanded:!1},{id:1,date:"2026-01-03",status:"收單中",totalOrders:15,pickedUp:8,pending:7,expanded:!1}]},{month:"2025-12",orders:[{id:2,date:"2025-12-28",status:"已結單",totalOrders:23,pickedUp:20,pending:3,expanded:!1},{id:3,date:"2025-12-25",status:"出貨結束",totalOrders:8,pickedUp:8,pending:0,expanded:!1},{id:4,date:"2025-12-20",status:"已結單",totalOrders:12,pickedUp:10,pending:2,expanded:!1},{id:5,date:"2025-12-15",status:"出貨結束",totalOrders:10,pickedUp:10,pending:0,expanded:!1},{id:6,date:"2025-12-10",status:"收單中",totalOrders:18,pickedUp:5,pending:13,expanded:!1},{id:7,date:"2025-12-05",status:"已結單",totalOrders:6,pickedUp:6,pending:0,expanded:!1}]},{month:"2025-11",orders:[{id:10,date:"2025-11-30",status:"出貨結束",totalOrders:13,pickedUp:13,pending:0,expanded:!1},{id:11,date:"2025-11-25",status:"出貨結束",totalOrders:9,pickedUp:9,pending:0,expanded:!1}]}]),O=s=>({收單中:"status-collecting",已結單:"status-closed",出貨結束:"status-completed"})[s]||"",U=s=>r(s).format("M月"),M=s=>r(s).format("YYYY/MM/DD"),k=s=>s?.totalOrders?Math.round(s.pickedUp/s.totalOrders*100):0,p=s=>r(s.date).isSame(r(),"day"),C=()=>r().format("YYYY-MM-DD"),T=E(()=>{const s=C();for(const a of h.value){const l=a.orders.find(m=>m.date===s);if(l)return l}return null}),Y=async()=>{await S();const s=document.getElementById("today-order-anchor");s&&s.scrollIntoView({behavior:"smooth",block:"center"})};return(s,a)=>{const l=I,m=b("Calendar"),v=V,w=b("ArrowRight");return o(),d("div",j,[t("div",z,[a[2]||(a[2]=t("div",{class:"toolbar-title"},[t("i",{class:"bx bx-list-check"}),c(" 訂單列表 ")],-1)),t("div",A,[i(l,{icon:"aim",disabled:!T.value,onClick:Y},{default:u(()=>[...a[0]||(a[0]=[c(" 今日 ",-1)])]),_:1},8,["disabled"]),i(l,{icon:"plus",type:"primary"},{default:u(()=>[...a[1]||(a[1]=[c("開單",-1)])]),_:1})])]),(o(!0),d(x,null,y(h.value,f=>(o(),d("div",{key:f.month,class:"month-group"},[t("h3",F,[i(v,null,{default:u(()=>[i(m)]),_:1}),c(" "+n(U(f.month)),1)]),t("div",R,[(o(!0),d(x,null,y(f.orders,e=>(o(),d("div",{class:"order-item-box",key:e.id,id:p(e)?"today-order-anchor":void 0},[t("div",{class:g(["order-item",{isToday:p(e)}])},[t("div",K,[t("div",L,[t("span",P,[c(n(M(e.date))+" ",1),p(e)?(o(),d("span",q,"今日")):_("",!0)]),t("span",{class:g(["order-status",O(e.status)])},n(e.status),3)]),t("div",H,[t("div",Q,[t("span",W,"訂單數："+n(e.totalOrders),1),e.status!=="收單中"?(o(),d("span",X,n(k(e))+"% ",1)):_("",!0)]),e.status!=="收單中"?(o(),d("div",Z,[t("div",{class:"progress-fill",style:N({width:k(e)+"%"})},null,4)])):_("",!0)])]),e.status!=="收單中"?(o(),d("div",$,[t("div",G,[a[3]||(a[3]=t("span",{class:"detail-label"},"未取貨",-1)),t("span",tt,n(e.pending)+" 筆",1)]),t("div",st,[a[4]||(a[4]=t("span",{class:"detail-label"},"已取貨",-1)),t("span",et,n(e.pickedUp)+" 筆",1)])])):_("",!0)],2),t("div",{class:g(["order-button",{isToday:p(e)}])},[i(v,null,{default:u(()=>[i(w)]),_:1})],2)],8,J))),128))])]))),128))])}}},nt=D(at,[["__scopeId","data-v-bd186598"]]);export{nt as default};
