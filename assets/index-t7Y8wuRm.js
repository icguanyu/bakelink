import{_ as U}from"./OrderCard-DmC1ZFrM.js";import{_ as j,u as F,r as v,m as c,l as D,n as y,c as _,o as d,b as t,A as H,d as n,w as r,h as q,t as l,f as J,T as Q,J as G,U as K,e as X,F as T,y as C,v as Z,q as ee,R as te,x as ae,k as se}from"./index-Dl5cwTgt.js";/* empty css                  *//* empty css            */const ne={class:"order-manager"},oe={class:"order-header"},ie={class:"header-top"},le={class:"header-actions"},ce={class:"stats-cards"},re={class:"stat-card"},de={class:"stat-icon",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}},ue={class:"stat-content"},me={class:"stat-value"},pe={class:"stat-label"},ve={class:"stat-card"},ye={class:"stat-icon",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"}},_e={class:"stat-content"},he={class:"stat-value"},fe={class:"stat-card"},ke={class:"stat-icon",style:{background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"}},De={class:"stat-content"},qe={class:"stat-value"},ge={class:"stat-card"},Ae={class:"stat-icon",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"}},be={class:"stat-content"},Ye={class:"stat-value"},Te={class:"stat-card highlight"},Ce={class:"stat-icon",style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"}},Oe={class:"stat-content"},Ne={class:"stat-value"},Me={class:"stat-label"},Re={class:"toolbar"},we={class:"date-selector"},xe={style:{display:"flex",gap:"8px","align-items":"center"}},Ve={class:"status-tabs"},Se=["onClick"],Le={class:"tab-label"},Ee={key:1,class:"tab-count-all"},Be={class:"orders-grid"},$e={key:0,class:"empty-state"},We={__name:"index",setup(ze){F();const k=v("all"),u=v(""),i=v(c().format("YYYY-MM-DD")),h=v("detailed"),f=v(!0),g=v([{id:"ORD-20260216-001",customerName:"陳小美",phone:"0912-345-678",pickupTime:"2026-02-16 14:00",status:"ordered",payment:"cash",items:[{name:"經典牛奶吐司",quantity:2,price:120},{name:"海鹽奶油可頌",quantity:3,price:75}],totalAmount:465,note:"請幫我切片",createdAt:"2026-02-16 09:30"},{id:"ORD-20260216-002",customerName:"王大明",phone:"0923-456-789",pickupTime:"2026-02-16 15:30",status:"ordered",payment:"linepay",items:[{name:"巧克力可頌",quantity:5,price:85},{name:"伯爵茶貝果",quantity:2,price:90}],totalAmount:605,note:"",createdAt:"2026-02-16 10:15"},{id:"ORD-20260216-003",customerName:"林小華",phone:"0934-567-890",pickupTime:"2026-02-16 16:00",status:"ordered",payment:"card",items:[{name:"小麥酸種",quantity:1,price:180},{name:"蜂蜜核桃雜糧",quantity:1,price:150}],totalAmount:330,note:"請協助包裝精美一點，要送人的",createdAt:"2026-02-16 08:45"},{id:"ORD-20260216-004",customerName:"魏志軒",phone:"0912-789-456",pickupTime:"2026-02-16 10:30",status:"ordered",payment:"linepay",items:[{name:"經典牛奶吐司",quantity:2,price:120},{name:"伯爵茶貝果",quantity:3,price:90},{name:"巧克力可頌",quantity:2,price:85},{name:"海鹽奶油可頌",quantity:4,price:75},{name:"蜂蜜核桃雜糧",quantity:1,price:150},{name:"手作波蘿麵包",quantity:3,price:65},{name:"小麥酸種",quantity:1,price:180}],totalAmount:1290,note:"公司聚餐用，需要快速準備",createdAt:"2026-02-16 09:00"},{id:"ORD-20260216-005",customerName:"廖佳穎",phone:"0923-654-321",pickupTime:"2026-02-16 11:00",status:"ordered",payment:"cash",items:[{name:"海鹽奶油可頌",quantity:4,price:75}],totalAmount:300,note:"",createdAt:"2026-02-16 09:15"},{id:"ORD-20260216-006",customerName:"陳思翰",phone:"0934-123-789",pickupTime:"2026-02-16 12:00",status:"completed",payment:"card",items:[{name:"巧克力可頌",quantity:2,price:85},{name:"手作波蘿麵包",quantity:2,price:65}],totalAmount:330,note:"",createdAt:"2026-02-16 09:30"},{id:"ORD-20260216-007",customerName:"何美言",phone:"0945-234-567",pickupTime:"2026-02-16 13:30",status:"ordered",payment:"linepay",items:[{name:"法式厚切吐司",quantity:1,price:140},{name:"起司鹹可頌",quantity:2,price:90}],totalAmount:320,note:"要快速取貨",createdAt:"2026-02-16 10:00"},{id:"ORD-20260216-008",customerName:"黃奕謙",phone:"0956-789-012",pickupTime:"2026-02-16 14:30",status:"ordered",payment:"cash",items:[{name:"經典牛奶吐司",quantity:3,price:120}],totalAmount:360,note:"請放在一起",createdAt:"2026-02-16 10:45"},{id:"ORD-20260216-009",customerName:"鄒芊芊",phone:"0967-345-678",pickupTime:"2026-02-16 15:00",status:"ordered",payment:"card",items:[{name:"蒜香法棍",quantity:2,price:110},{name:"蜂蜜核桃雜糧",quantity:1,price:150},{name:"經典牛奶吐司",quantity:2,price:120},{name:"海鹽奶油可頌",quantity:3,price:75},{name:"巧克力可頌",quantity:2,price:85}],totalAmount:895,note:"公司團購",createdAt:"2026-02-16 11:20"},{id:"ORD-20260216-010",customerName:"簡郁庭",phone:"0978-456-789",pickupTime:"2026-02-16 15:45",status:"ordered",payment:"bank",items:[{name:"伯爵茶貝果",quantity:5,price:90}],totalAmount:450,note:"辦公室訂購",createdAt:"2026-02-16 11:50"},{id:"ORD-20260216-011",customerName:"陳俊宇",phone:"0989-567-890",pickupTime:"2026-02-16 16:30",status:"cancelled",payment:"cash",items:[{name:"海鹽奶油可頌",quantity:2,price:75},{name:"巧克力可頌",quantity:2,price:85}],totalAmount:320,note:"客戶主動取消",createdAt:"2026-02-16 12:30"},{id:"ORD-20260216-012",customerName:"葉靖雯",phone:"0912-345-012",pickupTime:"2026-02-16 17:00",status:"ordered",payment:"linepay",items:[{name:"小麥酸種",quantity:2,price:180},{name:"桂圓紅棗吐司",quantity:1,price:150}],totalAmount:510,note:"送禮用，麻煩精心包裝",createdAt:"2026-02-16 13:00"},{id:"ORD-20260216-013",customerName:"吳昀庭",phone:"0923-678-901",pickupTime:"2026-02-16 17:30",status:"ordered",payment:"card",items:[{name:"手作波蘿麵包",quantity:6,price:65},{name:"經典牛奶吐司",quantity:4,price:120},{name:"巧克力可頌",quantity:5,price:85},{name:"伯爵茶貝果",quantity:8,price:90},{name:"蒜香法棍",quantity:3,price:110},{name:"桂圓紅棗吐司",quantity:2,price:150}],totalAmount:2770,note:"派對用 請現場計數 需要分開包裝",createdAt:"2026-02-16 13:45"},{id:"ORD-20260215-015",customerName:"張雅芳",phone:"0945-678-901",pickupTime:"2026-02-15 18:00",status:"completed",payment:"cash",items:[{name:"法式厚切吐司",quantity:2,price:140},{name:"手作波蘿麵包",quantity:4,price:65}],totalAmount:540,note:"",createdAt:"2026-02-15 14:20"},{id:"ORD-20260215-014",customerName:"劉建國",phone:"0956-789-012",pickupTime:"2026-02-15 17:30",status:"cancelled",payment:"bank",items:[{name:"蒜香法棍",quantity:3,price:110}],totalAmount:330,note:"客戶臨時取消",createdAt:"2026-02-15 12:00"},{id:"ORD-20260217-001",customerName:"黃志明",phone:"0967-123-456",pickupTime:"2026-02-17 10:00",status:"ordered",payment:"linepay",items:[{name:"起司鹹可頌",quantity:4,price:90},{name:"手作波蘿麵包",quantity:3,price:65}],totalAmount:555,note:"早上要用，麻煩提前準備",createdAt:"2026-02-16 16:20"},{id:"ORD-20260217-002",customerName:"李淑芬",phone:"0978-234-567",pickupTime:"2026-02-17 14:30",status:"ordered",payment:"cash",items:[{name:"桂圓紅棗吐司",quantity:2,price:150}],totalAmount:300,note:"",createdAt:"2026-02-16 18:00"},{id:"ORD-20260218-001",customerName:"周美玲",phone:"0989-345-678",pickupTime:"2026-02-18 11:00",status:"ordered",payment:"card",items:[{name:"經典牛奶吐司",quantity:3,price:120},{name:"蒜香法棍",quantity:2,price:110}],totalAmount:580,note:"公司訂購",createdAt:"2026-02-16 19:30"}]),A=[{label:"全部",value:"all",color:""},{label:"已下單",value:"ordered",color:"#3b82f6",count:0},{label:"已完成",value:"completed",color:"#10b981",count:0},{label:"已取消",value:"cancelled",color:"#ef4444",count:0}],O=D(()=>{const a={};return g.value.filter(s=>s.pickupTime.startsWith(i.value)).forEach(s=>{a[s.status]=(a[s.status]||0)+1}),a});A.forEach(a=>{a.value!=="all"&&Object.defineProperty(a,"count",{get:()=>O.value[a.value]||0})});const m=D(()=>{const a=g.value.filter(e=>e.pickupTime.startsWith(i.value));return{total:a.length,ordered:a.filter(e=>e.status==="ordered").length,completed:a.filter(e=>e.status==="completed").length,cancelled:a.filter(e=>e.status==="cancelled").length,revenue:a.filter(e=>e.status!=="cancelled").reduce((e,s)=>e+s.totalAmount,0)}}),b=D(()=>{const a=c().format("YYYY-MM-DD"),e=c().add(1,"day").format("YYYY-MM-DD"),s=c().subtract(1,"day").format("YYYY-MM-DD");return i.value===a?"今日":i.value===e?"明日":i.value===s?"昨日":c(i.value).format("M/D")}),Y=D(()=>{let a=g.value;if(a=a.filter(e=>e.pickupTime.startsWith(i.value)),k.value!=="all"&&(a=a.filter(e=>e.status===k.value)),u.value){const e=u.value.toLowerCase();a=a.filter(s=>s.id.toLowerCase().includes(e)||s.customerName.toLowerCase().includes(e)||s.phone.includes(e))}return a.sort((e,s)=>c(e.pickupTime).diff(c(s.pickupTime)))}),N=a=>({ordered:"已下單",completed:"已完成",cancelled:"已取消"})[a]||a,M=(a,e)=>{a.status=e,se.success(`訂單 ${a.id} 已更新為${N(e)}`)},R=()=>{i.value=c().format("YYYY-MM-DD")},w=()=>{i.value=c(i.value).subtract(1,"day").format("YYYY-MM-DD")},x=()=>{i.value=c(i.value).add(1,"day").format("YYYY-MM-DD")},V=()=>{u.value=""};return(a,e)=>{const s=J,S=y("Calendar"),p=G,L=y("Clock"),E=y("CircleCheck"),B=y("Warning"),$=y("Money"),W=K,z=X,P=U,I=y("Document");return d(),_("div",ne,[t("div",oe,[t("div",ie,[e[6]||(e[6]=t("div",null,[t("h2",null,"訂單管理"),t("p",{class:"subtitle"},"查看與管理每日訂單，追蹤訂單狀態")],-1)),t("div",le,[n(s,{icon:f.value?"View":"Hide",onClick:e[0]||(e[0]=o=>f.value=!f.value)},{default:r(()=>[q(l(f.value?"顯示統計":"隱藏統計"),1)]),_:1},8,["icon"]),n(s,{icon:h.value==="detailed"?"Document":"List",onClick:e[1]||(e[1]=o=>h.value=h.value==="detailed"?"simple":"detailed")},{default:r(()=>[q(l(h.value==="detailed"?"詳細模式":"簡易模式"),1)]),_:1},8,["icon"]),n(s,{icon:"Back",onClick:R},{default:r(()=>[...e[4]||(e[4]=[q(" 回到今天 ",-1)])]),_:1}),n(s,{type:"primary",icon:"Plus"},{default:r(()=>[...e[5]||(e[5]=[q("新增訂單",-1)])]),_:1})])])]),H(t("div",ce,[t("div",re,[t("div",de,[n(p,null,{default:r(()=>[n(S)]),_:1})]),t("div",ue,[t("div",me,l(m.value.total),1),t("div",pe,l(b.value)+"訂單",1)])]),t("div",ve,[t("div",ye,[n(p,null,{default:r(()=>[n(L)]),_:1})]),t("div",_e,[t("div",he,l(m.value.ordered),1),e[7]||(e[7]=t("div",{class:"stat-label"},"已下單",-1))])]),t("div",fe,[t("div",ke,[n(p,null,{default:r(()=>[n(E)]),_:1})]),t("div",De,[t("div",qe,l(m.value.completed),1),e[8]||(e[8]=t("div",{class:"stat-label"},"已完成",-1))])]),t("div",ge,[t("div",Ae,[n(p,null,{default:r(()=>[n(B)]),_:1})]),t("div",be,[t("div",Ye,l(m.value.cancelled),1),e[9]||(e[9]=t("div",{class:"stat-label"},"已取消",-1))])]),t("div",Te,[t("div",Ce,[n(p,null,{default:r(()=>[n($)]),_:1})]),t("div",Oe,[t("div",Ne," $"+l(m.value.revenue.toLocaleString()),1),t("div",Me,l(b.value)+"營收",1)])])],512),[[Q,f.value]]),t("div",Re,[t("div",we,[n(s,{icon:"ArrowLeft",circle:"",size:"small",onClick:w}),n(W,{modelValue:i.value,"onUpdate:modelValue":e[2]||(e[2]=o=>i.value=o),type:"date",placeholder:"選擇日期",format:"YYYY/MM/DD","value-format":"YYYY-MM-DD",style:{width:"160px"}},null,8,["modelValue"]),n(s,{icon:"ArrowRight",circle:"",size:"small",onClick:x})]),t("div",xe,[n(z,{modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=o=>u.value=o),placeholder:"搜尋編號、姓名、電話...","prefix-icon":"Search",style:{"max-width":"280px"}},null,8,["modelValue"]),n(s,{icon:"Refresh",onClick:V,disabled:!u.value},null,8,["disabled"])])]),t("div",Ve,[(d(),_(T,null,C(A,o=>t("div",{key:o.value,class:ee(["status-tab",{active:k.value===o.value}]),onClick:Pe=>k.value=o.value},[t("span",Le,l(o.label),1),o.value!=="all"?(d(),_("span",{key:0,class:"tab-count",style:te({background:o.color})},l(o.count),5)):(d(),_("span",Ee,l(m.value.total),1))],10,Se)),64))]),t("div",Be,[(d(!0),_(T,null,C(Y.value,o=>(d(),ae(P,{key:o.id,order:o,"view-mode":h.value,onStatusChange:M},null,8,["order","view-mode"]))),128)),Y.value.length===0?(d(),_("div",$e,[n(p,{class:"empty-icon"},{default:r(()=>[n(I)]),_:1}),e[10]||(e[10]=t("p",{class:"empty-text"},"目前沒有訂單",-1))])):Z("",!0)])])}}},He=j(We,[["__scopeId","data-v-a888b788"]]);export{He as default};
