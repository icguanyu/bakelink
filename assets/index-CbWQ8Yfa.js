import{_ as nt,u as ot,r as q,m as d,l as A,n as y,c as u,o as c,b as e,d as n,w as l,K as it,t as o,T as lt,h as p,f as ct,e as dt,F as C,A as M,v,q as ut,U as L,V as rt,W as mt,y as S,k as pt}from"./index-DHZAEWta.js";/* empty css            */const _t={class:"order-manager"},yt={class:"stats-cards"},vt={class:"stat-card"},ht={class:"stat-icon",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}},ft={class:"stat-content"},kt={class:"stat-value"},Dt={class:"stat-label"},qt={class:"stat-card"},gt={class:"stat-icon",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"}},At={class:"stat-content"},bt={class:"stat-value"},Yt={class:"stat-card"},Tt={class:"stat-icon",style:{background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"}},Ct={class:"stat-content"},Mt={class:"stat-value"},Ot={class:"stat-card"},Nt={class:"stat-icon",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"}},Rt={class:"stat-content"},xt={class:"stat-value"},wt={class:"stat-card highlight"},Vt={class:"stat-icon",style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"}},Lt={class:"stat-content"},St={class:"stat-value"},Et={class:"stat-label"},Pt={class:"toolbar"},$t={class:"date-selector"},Wt={class:"date-shortcuts"},zt={style:{display:"flex",gap:"8px","align-items":"center"}},Bt={class:"toolbar-actions"},Ut={class:"status-tabs"},It=["onClick"],jt={class:"tab-label"},Ft={key:1,class:"tab-count-all"},Ht={class:"orders-grid"},Kt={class:"order-header"},Qt={class:"order-id"},Gt={class:"id-prefix"},Jt={class:"id-highlight"},Xt={class:"order-customer"},Zt={class:"customer-info"},te={class:"customer-name"},ee={key:0,class:"customer-phone"},ae={key:1,class:"customer-pickup"},se={class:"pickup-time"},ne={key:0,class:"pickup-date"},oe={key:0,class:"order-items"},ie={class:"item-name"},le={class:"item-quantity"},ce={key:1,class:"order-note"},de={class:"order-footer"},ue={class:"order-amount"},re={class:"amount-value"},me={key:0,class:"order-payment"},pe={key:0,class:"empty-state"},_e={__name:"index",setup(ye){ot();const g=q("all"),f=q(""),r=q(d().format("YYYY-MM-DD")),_=q("detailed"),b=q([{id:"ORD-20260216-001",customerName:"陳小美",phone:"0912-345-678",pickupTime:"2026-02-16 14:00",status:"ordered",payment:"cash",items:[{name:"經典牛奶吐司",quantity:2,price:120},{name:"海鹽奶油可頌",quantity:3,price:75}],totalAmount:465,note:"請幫我切片",createdAt:"2026-02-16 09:30"},{id:"ORD-20260216-002",customerName:"王大明",phone:"0923-456-789",pickupTime:"2026-02-16 15:30",status:"ordered",payment:"linepay",items:[{name:"巧克力可頌",quantity:5,price:85},{name:"伯爵茶貝果",quantity:2,price:90}],totalAmount:605,note:"",createdAt:"2026-02-16 10:15"},{id:"ORD-20260216-003",customerName:"林小華",phone:"0934-567-890",pickupTime:"2026-02-16 16:00",status:"ordered",payment:"card",items:[{name:"小麥酸種",quantity:1,price:180},{name:"蜂蜜核桃雜糧",quantity:1,price:150}],totalAmount:330,note:"請協助包裝精美一點，要送人的",createdAt:"2026-02-16 08:45"},{id:"ORD-20260216-004",customerName:"魏志軒",phone:"0912-789-456",pickupTime:"2026-02-16 10:30",status:"ordered",payment:"linepay",items:[{name:"經典牛奶吐司",quantity:2,price:120},{name:"伯爵茶貝果",quantity:3,price:90},{name:"巧克力可頌",quantity:2,price:85},{name:"海鹽奶油可頌",quantity:4,price:75},{name:"蜂蜜核桃雜糧",quantity:1,price:150},{name:"手作波蘿麵包",quantity:3,price:65},{name:"小麥酸種",quantity:1,price:180}],totalAmount:1290,note:"公司聚餐用，需要快速準備",createdAt:"2026-02-16 09:00"},{id:"ORD-20260216-005",customerName:"廖佳穎",phone:"0923-654-321",pickupTime:"2026-02-16 11:00",status:"ordered",payment:"cash",items:[{name:"海鹽奶油可頌",quantity:4,price:75}],totalAmount:300,note:"",createdAt:"2026-02-16 09:15"},{id:"ORD-20260216-006",customerName:"陳思翰",phone:"0934-123-789",pickupTime:"2026-02-16 12:00",status:"completed",payment:"card",items:[{name:"巧克力可頌",quantity:2,price:85},{name:"手作波蘿麵包",quantity:2,price:65}],totalAmount:330,note:"",createdAt:"2026-02-16 09:30"},{id:"ORD-20260216-007",customerName:"何美言",phone:"0945-234-567",pickupTime:"2026-02-16 13:30",status:"ordered",payment:"linepay",items:[{name:"法式厚切吐司",quantity:1,price:140},{name:"起司鹹可頌",quantity:2,price:90}],totalAmount:320,note:"要快速取貨",createdAt:"2026-02-16 10:00"},{id:"ORD-20260216-008",customerName:"黃奕謙",phone:"0956-789-012",pickupTime:"2026-02-16 14:30",status:"ordered",payment:"cash",items:[{name:"經典牛奶吐司",quantity:3,price:120}],totalAmount:360,note:"請放在一起",createdAt:"2026-02-16 10:45"},{id:"ORD-20260216-009",customerName:"鄒芊芊",phone:"0967-345-678",pickupTime:"2026-02-16 15:00",status:"ordered",payment:"card",items:[{name:"蒜香法棍",quantity:2,price:110},{name:"蜂蜜核桃雜糧",quantity:1,price:150},{name:"經典牛奶吐司",quantity:2,price:120},{name:"海鹽奶油可頌",quantity:3,price:75},{name:"巧克力可頌",quantity:2,price:85}],totalAmount:895,note:"公司團購",createdAt:"2026-02-16 11:20"},{id:"ORD-20260216-010",customerName:"簡郁庭",phone:"0978-456-789",pickupTime:"2026-02-16 15:45",status:"ordered",payment:"bank",items:[{name:"伯爵茶貝果",quantity:5,price:90}],totalAmount:450,note:"辦公室訂購",createdAt:"2026-02-16 11:50"},{id:"ORD-20260216-011",customerName:"陳俊宇",phone:"0989-567-890",pickupTime:"2026-02-16 16:30",status:"cancelled",payment:"cash",items:[{name:"海鹽奶油可頌",quantity:2,price:75},{name:"巧克力可頌",quantity:2,price:85}],totalAmount:320,note:"客戶主動取消",createdAt:"2026-02-16 12:30"},{id:"ORD-20260216-012",customerName:"葉靖雯",phone:"0912-345-012",pickupTime:"2026-02-16 17:00",status:"ordered",payment:"linepay",items:[{name:"小麥酸種",quantity:2,price:180},{name:"桂圓紅棗吐司",quantity:1,price:150}],totalAmount:510,note:"送禮用，麻煩精心包裝",createdAt:"2026-02-16 13:00"},{id:"ORD-20260216-013",customerName:"吳昀庭",phone:"0923-678-901",pickupTime:"2026-02-16 17:30",status:"ordered",payment:"card",items:[{name:"手作波蘿麵包",quantity:6,price:65},{name:"經典牛奶吐司",quantity:4,price:120},{name:"巧克力可頌",quantity:5,price:85},{name:"伯爵茶貝果",quantity:8,price:90},{name:"蒜香法棍",quantity:3,price:110},{name:"桂圓紅棗吐司",quantity:2,price:150}],totalAmount:2770,note:"派對用 請現場計數 需要分開包裝",createdAt:"2026-02-16 13:45"},{id:"ORD-20260215-015",customerName:"張雅芳",phone:"0945-678-901",pickupTime:"2026-02-15 18:00",status:"completed",payment:"cash",items:[{name:"法式厚切吐司",quantity:2,price:140},{name:"手作波蘿麵包",quantity:4,price:65}],totalAmount:540,note:"",createdAt:"2026-02-15 14:20"},{id:"ORD-20260215-014",customerName:"劉建國",phone:"0956-789-012",pickupTime:"2026-02-15 17:30",status:"cancelled",payment:"bank",items:[{name:"蒜香法棍",quantity:3,price:110}],totalAmount:330,note:"客戶臨時取消",createdAt:"2026-02-15 12:00"},{id:"ORD-20260217-001",customerName:"黃志明",phone:"0967-123-456",pickupTime:"2026-02-17 10:00",status:"ordered",payment:"linepay",items:[{name:"起司鹹可頌",quantity:4,price:90},{name:"手作波蘿麵包",quantity:3,price:65}],totalAmount:555,note:"早上要用，麻煩提前準備",createdAt:"2026-02-16 16:20"},{id:"ORD-20260217-002",customerName:"李淑芬",phone:"0978-234-567",pickupTime:"2026-02-17 14:30",status:"ordered",payment:"cash",items:[{name:"桂圓紅棗吐司",quantity:2,price:150}],totalAmount:300,note:"",createdAt:"2026-02-16 18:00"},{id:"ORD-20260218-001",customerName:"周美玲",phone:"0989-345-678",pickupTime:"2026-02-18 11:00",status:"ordered",payment:"card",items:[{name:"經典牛奶吐司",quantity:3,price:120},{name:"蒜香法棍",quantity:2,price:110}],totalAmount:580,note:"公司訂購",createdAt:"2026-02-16 19:30"}]),Y=[{label:"全部",value:"all",color:""},{label:"已下單",value:"ordered",color:"#3b82f6",count:0},{label:"已完成",value:"completed",color:"#10b981",count:0},{label:"已取消",value:"cancelled",color:"#ef4444",count:0}],E=A(()=>{const a={};return b.value.filter(i=>i.pickupTime.startsWith(r.value)).forEach(i=>{a[i.status]=(a[i.status]||0)+1}),a});Y.forEach(a=>{a.value!=="all"&&Object.defineProperty(a,"count",{get:()=>E.value[a.value]||0})});const k=A(()=>{const a=b.value.filter(t=>t.pickupTime.startsWith(r.value));return{total:a.length,ordered:a.filter(t=>t.status==="ordered").length,completed:a.filter(t=>t.status==="completed").length,cancelled:a.filter(t=>t.status==="cancelled").length,revenue:a.filter(t=>t.status!=="cancelled").reduce((t,i)=>t+i.totalAmount,0)}}),O=A(()=>{const a=d().format("YYYY-MM-DD"),t=d().add(1,"day").format("YYYY-MM-DD"),i=d().subtract(1,"day").format("YYYY-MM-DD");return r.value===a?"今日":r.value===t?"明日":r.value===i?"昨日":d(r.value).format("M/D")}),N=A(()=>{let a=b.value;if(a=a.filter(t=>t.pickupTime.startsWith(r.value)),g.value!=="all"&&(a=a.filter(t=>t.status===g.value)),f.value){const t=f.value.toLowerCase();a=a.filter(i=>i.id.toLowerCase().includes(t)||i.customerName.toLowerCase().includes(t)||i.phone.includes(t))}return a.sort((t,i)=>d(t.pickupTime).diff(d(i.pickupTime)))}),R=a=>({ordered:"已下單",completed:"已完成",cancelled:"已取消"})[a]||a,P=a=>Y.find(i=>i.value===a)?.color||"#6b7280",$=a=>({cash:"現金",bank:"匯款",linepay:"Line Pay",card:"信用卡"})[a]||a,W=a=>d(a).format("HH:mm"),z=a=>d(a).format("MM/DD"),B=a=>d(a).isSame(d(),"day"),x=(a,t)=>{a.status=t,pt.success(`訂單 ${a.id} 已更新為${R(t)}`)},U=()=>{r.value=d().format("YYYY-MM-DD")},I=()=>{r.value=d().add(1,"day").format("YYYY-MM-DD")},j=()=>{r.value=d().add(2,"day").format("YYYY-MM-DD")},T=a=>{const t=d().add(a,"day").format("YYYY-MM-DD");return r.value===t},w=a=>{const t=a.slice(-3);return{prefix:a.slice(0,-3),lastThree:t}},F=()=>{f.value=""};return(a,t)=>{const i=y("Calendar"),m=it,H=y("Clock"),K=y("CircleCheck"),Q=y("Warning"),G=y("Money"),J=lt,h=ct,X=dt,Z=y("User"),tt=y("Phone"),et=y("AlarmClock"),V=y("Document"),at=rt;return c(),u("div",_t,[e("div",yt,[e("div",vt,[e("div",ht,[n(m,null,{default:l(()=>[n(i)]),_:1})]),e("div",ft,[e("div",kt,o(k.value.total),1),e("div",Dt,o(O.value)+"訂單",1)])]),e("div",qt,[e("div",gt,[n(m,null,{default:l(()=>[n(H)]),_:1})]),e("div",At,[e("div",bt,o(k.value.ordered),1),t[4]||(t[4]=e("div",{class:"stat-label"},"已下單",-1))])]),e("div",Yt,[e("div",Tt,[n(m,null,{default:l(()=>[n(K)]),_:1})]),e("div",Ct,[e("div",Mt,o(k.value.completed),1),t[5]||(t[5]=e("div",{class:"stat-label"},"已完成",-1))])]),e("div",Ot,[e("div",Nt,[n(m,null,{default:l(()=>[n(Q)]),_:1})]),e("div",Rt,[e("div",xt,o(k.value.cancelled),1),t[6]||(t[6]=e("div",{class:"stat-label"},"已取消",-1))])]),e("div",wt,[e("div",Vt,[n(m,null,{default:l(()=>[n(G)]),_:1})]),e("div",Lt,[e("div",St," $"+o(k.value.revenue.toLocaleString()),1),e("div",Et,o(O.value)+"營收",1)])])]),e("div",Pt,[e("div",$t,[n(J,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=s=>r.value=s),type:"date",placeholder:"選擇日期",format:"YYYY/MM/DD","value-format":"YYYY-MM-DD",style:{width:"160px"}},null,8,["modelValue"]),e("div",Wt,[n(h,{type:T(0)?"primary":"default",onClick:U},{default:l(()=>[...t[7]||(t[7]=[p(" 今天 ",-1)])]),_:1},8,["type"]),n(h,{type:T(1)?"primary":"default",onClick:I},{default:l(()=>[...t[8]||(t[8]=[p(" 明天 ",-1)])]),_:1},8,["type"]),n(h,{type:T(2)?"primary":"default",onClick:j},{default:l(()=>[...t[9]||(t[9]=[p(" 後天 ",-1)])]),_:1},8,["type"])])]),e("div",zt,[n(X,{modelValue:f.value,"onUpdate:modelValue":t[1]||(t[1]=s=>f.value=s),placeholder:"搜尋訂單編號、客戶姓名、電話","prefix-icon":"Search",style:{"max-width":"280px"}},null,8,["modelValue"]),n(h,{icon:"Refresh",onClick:F,disabled:!f.value},null,8,["disabled"])]),e("div",Bt,[n(h,{icon:_.value==="detailed"?"Document":"List",onClick:t[2]||(t[2]=s=>_.value=_.value==="detailed"?"simple":"detailed")},{default:l(()=>[p(o(_.value==="detailed"?"簡易模式":"詳細模式"),1)]),_:1},8,["icon"]),n(h,{type:"primary",icon:"Plus"},{default:l(()=>[...t[10]||(t[10]=[p("新增訂單",-1)])]),_:1})])]),e("div",Ut,[(c(),u(C,null,M(Y,s=>e("div",{key:s.value,class:ut(["status-tab",{active:g.value===s.value}]),onClick:D=>g.value=s.value},[e("span",jt,o(s.label),1),s.value!=="all"?(c(),u("span",{key:0,class:"tab-count",style:L({background:s.color})},o(s.count),5)):(c(),u("span",Ft,o(k.value.total),1))],10,It)),64))]),e("div",Ht,[(c(!0),u(C,null,M(N.value,s=>(c(),u("div",{key:s.id,class:"order-card"},[e("div",Kt,[e("div",Qt,[e("span",Gt,o(w(s.id).prefix),1),e("span",Jt,o(w(s.id).lastThree),1)]),e("div",{class:"order-status-badge",style:L({background:P(s.status)})},o(R(s.status)),5)]),e("div",Xt,[e("div",Zt,[n(m,{class:"customer-icon"},{default:l(()=>[n(Z)]),_:1}),e("span",te,o(s.customerName),1)]),_.value==="detailed"?(c(),u("div",ee,[n(m,null,{default:l(()=>[n(tt)]),_:1}),p(" "+o(s.phone),1)])):v("",!0),_.value==="detailed"?(c(),u("div",ae,[n(m,null,{default:l(()=>[n(et)]),_:1}),e("span",se,[B(s.pickupTime)?v("",!0):(c(),u("span",ne,o(z(s.pickupTime)),1)),p(" "+o(W(s.pickupTime)),1)])])):v("",!0)]),_.value==="detailed"?(c(),u("div",oe,[(c(!0),u(C,null,M(s.items,(D,st)=>(c(),u("div",{key:st,class:"order-item"},[e("span",ie,o(D.name),1),e("span",le,"× "+o(D.quantity),1)]))),128))])):v("",!0),_.value==="detailed"&&s.note?(c(),u("div",ce,[n(m,null,{default:l(()=>[n(V)]),_:1}),e("span",null,o(s.note),1)])):v("",!0),e("div",de,[e("div",ue,[t[11]||(t[11]=e("span",{class:"amount-label"},"總金額",-1)),e("span",re,"$"+o(s.totalAmount),1)]),_.value==="detailed"?(c(),u("div",me,[n(at,{size:"small"},{default:l(()=>[p(o($(s.payment)),1)]),_:2},1024)])):v("",!0)]),e("div",{class:"order-actions",onClick:t[3]||(t[3]=mt(()=>{},["stop"]))},[s.status==="ordered"?(c(),S(h,{key:0,type:"danger",plain:"",size:"small",onClick:D=>x(s,"cancelled")},{default:l(()=>[...t[12]||(t[12]=[p(" 取消 ",-1)])]),_:1},8,["onClick"])):v("",!0),s.status==="ordered"?(c(),S(h,{key:1,class:"complete",type:"success",size:"small",onClick:D=>x(s,"completed")},{default:l(()=>[...t[13]||(t[13]=[p(" 完成訂單 ",-1)])]),_:1},8,["onClick"])):v("",!0)])]))),128)),N.value.length===0?(c(),u("div",pe,[n(m,{class:"empty-icon"},{default:l(()=>[n(V)]),_:1}),t[14]||(t[14]=e("p",{class:"empty-text"},"目前沒有訂單",-1))])):v("",!0)])])}}},fe=nt(_e,[["__scopeId","data-v-ec018802"]]);export{fe as default};
