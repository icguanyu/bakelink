import{_ as ct,u as dt,r as g,m as c,l as A,n as _,c as u,o as d,b as e,d as n,w as l,K as ut,t as o,T as rt,h as m,f as mt,e as pt,F as C,A as M,v as y,q as P,U as z,y as O,V as _t,W as yt,k as vt}from"./index-nrSB1wTZ.js";/* empty css            */const ft={class:"order-manager"},ht={class:"stats-cards"},kt={class:"stat-card"},Dt={class:"stat-icon",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}},gt={class:"stat-content"},qt={class:"stat-value"},At={class:"stat-label"},bt={class:"stat-card"},Tt={class:"stat-icon",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"}},Yt={class:"stat-content"},Ct={class:"stat-value"},Mt={class:"stat-card"},Ot={class:"stat-icon",style:{background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"}},Nt={class:"stat-content"},Rt={class:"stat-value"},xt={class:"stat-card"},wt={class:"stat-icon",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"}},St={class:"stat-content"},Vt={class:"stat-value"},Lt={class:"stat-card highlight"},$t={class:"stat-icon",style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"}},Et={class:"stat-content"},Pt={class:"stat-value"},zt={class:"stat-label"},Wt={class:"toolbar"},Bt={class:"date-selector"},Ut={class:"date-shortcuts"},It={style:{display:"flex",gap:"8px","align-items":"center"}},jt={class:"toolbar-actions"},Ft={class:"status-tabs"},Ht=["onClick"],Kt={class:"tab-label"},Qt={key:1,class:"tab-count-all"},Gt={class:"orders-grid"},Jt=["onClick"],Xt={class:"order-header"},Zt={class:"order-id"},te={class:"id-prefix"},ee={class:"id-highlight"},ae={class:"order-customer"},se={class:"customer-info"},ne={class:"customer-name"},oe={key:0,class:"customer-phone"},ie={class:"pickup-time"},le={key:0,class:"pickup-date"},ce={key:0,class:"order-items"},de={class:"item-name"},ue={class:"item-quantity"},re={key:1,class:"order-note"},me={class:"order-footer"},pe={class:"order-amount"},_e={class:"amount-value"},ye={key:0,class:"order-payment"},ve={key:0,class:"empty-state"},fe={__name:"index",setup(he){const W=dt(),q=g("all"),h=g(""),r=g(c().format("YYYY-MM-DD")),v=g("detailed"),b=g([{id:"ORD-20260216-001",customerName:"陳小美",phone:"0912-345-678",pickupTime:"2026-02-16 14:00",status:"ordered",payment:"cash",items:[{name:"經典牛奶吐司",quantity:2,price:120},{name:"海鹽奶油可頌",quantity:3,price:75}],totalAmount:465,note:"請幫我切片",createdAt:"2026-02-16 09:30"},{id:"ORD-20260216-002",customerName:"王大明",phone:"0923-456-789",pickupTime:"2026-02-16 15:30",status:"ordered",payment:"linepay",items:[{name:"巧克力可頌",quantity:5,price:85},{name:"伯爵茶貝果",quantity:2,price:90}],totalAmount:605,note:"",createdAt:"2026-02-16 10:15"},{id:"ORD-20260216-003",customerName:"林小華",phone:"0934-567-890",pickupTime:"2026-02-16 16:00",status:"ordered",payment:"card",items:[{name:"小麥酸種",quantity:1,price:180},{name:"蜂蜜核桃雜糧",quantity:1,price:150}],totalAmount:330,note:"請協助包裝精美一點，要送人的",createdAt:"2026-02-16 08:45"},{id:"ORD-20260216-004",customerName:"魏志軒",phone:"0912-789-456",pickupTime:"2026-02-16 10:30",status:"ordered",payment:"linepay",items:[{name:"經典牛奶吐司",quantity:2,price:120},{name:"伯爵茶貝果",quantity:3,price:90},{name:"巧克力可頌",quantity:2,price:85},{name:"海鹽奶油可頌",quantity:4,price:75},{name:"蜂蜜核桃雜糧",quantity:1,price:150},{name:"手作波蘿麵包",quantity:3,price:65},{name:"小麥酸種",quantity:1,price:180}],totalAmount:1290,note:"公司聚餐用，需要快速準備",createdAt:"2026-02-16 09:00"},{id:"ORD-20260216-005",customerName:"廖佳穎",phone:"0923-654-321",pickupTime:"2026-02-16 11:00",status:"ordered",payment:"cash",items:[{name:"海鹽奶油可頌",quantity:4,price:75}],totalAmount:300,note:"",createdAt:"2026-02-16 09:15"},{id:"ORD-20260216-006",customerName:"陳思翰",phone:"0934-123-789",pickupTime:"2026-02-16 12:00",status:"completed",payment:"card",items:[{name:"巧克力可頌",quantity:2,price:85},{name:"手作波蘿麵包",quantity:2,price:65}],totalAmount:330,note:"",createdAt:"2026-02-16 09:30"},{id:"ORD-20260216-007",customerName:"何美言",phone:"0945-234-567",pickupTime:"2026-02-16 13:30",status:"ordered",payment:"linepay",items:[{name:"法式厚切吐司",quantity:1,price:140},{name:"起司鹹可頌",quantity:2,price:90}],totalAmount:320,note:"要快速取貨",createdAt:"2026-02-16 10:00"},{id:"ORD-20260216-008",customerName:"黃奕謙",phone:"0956-789-012",pickupTime:"2026-02-16 14:30",status:"ordered",payment:"cash",items:[{name:"經典牛奶吐司",quantity:3,price:120}],totalAmount:360,note:"請放在一起",createdAt:"2026-02-16 10:45"},{id:"ORD-20260216-009",customerName:"鄒芊芊",phone:"0967-345-678",pickupTime:"2026-02-16 15:00",status:"ordered",payment:"card",items:[{name:"蒜香法棍",quantity:2,price:110},{name:"蜂蜜核桃雜糧",quantity:1,price:150},{name:"經典牛奶吐司",quantity:2,price:120},{name:"海鹽奶油可頌",quantity:3,price:75},{name:"巧克力可頌",quantity:2,price:85}],totalAmount:895,note:"公司團購",createdAt:"2026-02-16 11:20"},{id:"ORD-20260216-010",customerName:"簡郁庭",phone:"0978-456-789",pickupTime:"2026-02-16 15:45",status:"ordered",payment:"bank",items:[{name:"伯爵茶貝果",quantity:5,price:90}],totalAmount:450,note:"辦公室訂購",createdAt:"2026-02-16 11:50"},{id:"ORD-20260216-011",customerName:"陳俊宇",phone:"0989-567-890",pickupTime:"2026-02-16 16:30",status:"cancelled",payment:"cash",items:[{name:"海鹽奶油可頌",quantity:2,price:75},{name:"巧克力可頌",quantity:2,price:85}],totalAmount:320,note:"客戶主動取消",createdAt:"2026-02-16 12:30"},{id:"ORD-20260216-012",customerName:"葉靖雯",phone:"0912-345-012",pickupTime:"2026-02-16 17:00",status:"ordered",payment:"linepay",items:[{name:"小麥酸種",quantity:2,price:180},{name:"桂圓紅棗吐司",quantity:1,price:150}],totalAmount:510,note:"送禮用，麻煩精心包裝",createdAt:"2026-02-16 13:00"},{id:"ORD-20260216-013",customerName:"吳昀庭",phone:"0923-678-901",pickupTime:"2026-02-16 17:30",status:"ordered",payment:"card",items:[{name:"手作波蘿麵包",quantity:6,price:65},{name:"經典牛奶吐司",quantity:4,price:120},{name:"巧克力可頌",quantity:5,price:85},{name:"伯爵茶貝果",quantity:8,price:90},{name:"蒜香法棍",quantity:3,price:110},{name:"桂圓紅棗吐司",quantity:2,price:150}],totalAmount:2770,note:"派對用 請現場計數 需要分開包裝",createdAt:"2026-02-16 13:45"},{id:"ORD-20260215-015",customerName:"張雅芳",phone:"0945-678-901",pickupTime:"2026-02-15 18:00",status:"completed",payment:"cash",items:[{name:"法式厚切吐司",quantity:2,price:140},{name:"手作波蘿麵包",quantity:4,price:65}],totalAmount:540,note:"",createdAt:"2026-02-15 14:20"},{id:"ORD-20260215-014",customerName:"劉建國",phone:"0956-789-012",pickupTime:"2026-02-15 17:30",status:"cancelled",payment:"bank",items:[{name:"蒜香法棍",quantity:3,price:110}],totalAmount:330,note:"客戶臨時取消",createdAt:"2026-02-15 12:00"},{id:"ORD-20260217-001",customerName:"黃志明",phone:"0967-123-456",pickupTime:"2026-02-17 10:00",status:"ordered",payment:"linepay",items:[{name:"起司鹹可頌",quantity:4,price:90},{name:"手作波蘿麵包",quantity:3,price:65}],totalAmount:555,note:"早上要用，麻煩提前準備",createdAt:"2026-02-16 16:20"},{id:"ORD-20260217-002",customerName:"李淑芬",phone:"0978-234-567",pickupTime:"2026-02-17 14:30",status:"ordered",payment:"cash",items:[{name:"桂圓紅棗吐司",quantity:2,price:150}],totalAmount:300,note:"",createdAt:"2026-02-16 18:00"},{id:"ORD-20260218-001",customerName:"周美玲",phone:"0989-345-678",pickupTime:"2026-02-18 11:00",status:"ordered",payment:"card",items:[{name:"經典牛奶吐司",quantity:3,price:120},{name:"蒜香法棍",quantity:2,price:110}],totalAmount:580,note:"公司訂購",createdAt:"2026-02-16 19:30"}]),T=[{label:"全部",value:"all",color:""},{label:"已下單",value:"ordered",color:"#3b82f6",count:0},{label:"已完成",value:"completed",color:"#10b981",count:0},{label:"已取消",value:"cancelled",color:"#ef4444",count:0}],B=A(()=>{const a={};return b.value.filter(i=>i.pickupTime.startsWith(r.value)).forEach(i=>{a[i.status]=(a[i.status]||0)+1}),a});T.forEach(a=>{a.value!=="all"&&Object.defineProperty(a,"count",{get:()=>B.value[a.value]||0})});const k=A(()=>{const a=b.value.filter(t=>t.pickupTime.startsWith(r.value));return{total:a.length,ordered:a.filter(t=>t.status==="ordered").length,completed:a.filter(t=>t.status==="completed").length,cancelled:a.filter(t=>t.status==="cancelled").length,revenue:a.filter(t=>t.status!=="cancelled").reduce((t,i)=>t+i.totalAmount,0)}}),N=A(()=>{const a=c().format("YYYY-MM-DD"),t=c().add(1,"day").format("YYYY-MM-DD"),i=c().subtract(1,"day").format("YYYY-MM-DD");return r.value===a?"今日":r.value===t?"明日":r.value===i?"昨日":c(r.value).format("M/D")}),R=A(()=>{let a=b.value;if(a=a.filter(t=>t.pickupTime.startsWith(r.value)),q.value!=="all"&&(a=a.filter(t=>t.status===q.value)),h.value){const t=h.value.toLowerCase();a=a.filter(i=>i.id.toLowerCase().includes(t)||i.customerName.toLowerCase().includes(t)||i.phone.includes(t))}return a.sort((t,i)=>c(t.pickupTime).diff(c(i.pickupTime)))}),x=a=>({ordered:"已下單",completed:"已完成",cancelled:"已取消"})[a]||a,U=a=>T.find(i=>i.value===a)?.color||"#6b7280",I=a=>({cash:"現金",bank:"匯款",linepay:"Line Pay",card:"信用卡"})[a]||a,j=a=>c(a).format("HH:mm"),F=a=>c(a).format("MM/DD"),w=a=>c(a).isSame(c(),"day"),S=a=>{const t=c(a).diff(c(),"minute");return t>0&&t<=60},V=(a,t)=>{a.status=t,vt.success(`訂單 ${a.id} 已更新為${x(t)}`)},H=a=>{W.push(`/shop/order/${a}`)},K=()=>{r.value=c().format("YYYY-MM-DD")},Q=()=>{r.value=c().add(1,"day").format("YYYY-MM-DD")},G=()=>{r.value=c().add(2,"day").format("YYYY-MM-DD")},Y=a=>{const t=c().add(a,"day").format("YYYY-MM-DD");return r.value===t},L=a=>{const t=a.slice(-3);return{prefix:a.slice(0,-3),lastThree:t}},J=()=>{h.value=""};return(a,t)=>{const i=_("Calendar"),p=ut,X=_("Clock"),Z=_("CircleCheck"),tt=_("Warning"),et=_("Money"),at=rt,f=mt,st=pt,nt=_("User"),ot=_("Phone"),it=_("AlarmClock"),$=_t,E=_("Document");return d(),u("div",ft,[e("div",ht,[e("div",kt,[e("div",Dt,[n(p,null,{default:l(()=>[n(i)]),_:1})]),e("div",gt,[e("div",qt,o(k.value.total),1),e("div",At,o(N.value)+"訂單",1)])]),e("div",bt,[e("div",Tt,[n(p,null,{default:l(()=>[n(X)]),_:1})]),e("div",Yt,[e("div",Ct,o(k.value.ordered),1),t[4]||(t[4]=e("div",{class:"stat-label"},"已下單",-1))])]),e("div",Mt,[e("div",Ot,[n(p,null,{default:l(()=>[n(Z)]),_:1})]),e("div",Nt,[e("div",Rt,o(k.value.completed),1),t[5]||(t[5]=e("div",{class:"stat-label"},"已完成",-1))])]),e("div",xt,[e("div",wt,[n(p,null,{default:l(()=>[n(tt)]),_:1})]),e("div",St,[e("div",Vt,o(k.value.cancelled),1),t[6]||(t[6]=e("div",{class:"stat-label"},"已取消",-1))])]),e("div",Lt,[e("div",$t,[n(p,null,{default:l(()=>[n(et)]),_:1})]),e("div",Et,[e("div",Pt," $"+o(k.value.revenue.toLocaleString()),1),e("div",zt,o(N.value)+"營收",1)])])]),e("div",Wt,[e("div",Bt,[n(at,{modelValue:r.value,"onUpdate:modelValue":t[0]||(t[0]=s=>r.value=s),type:"date",placeholder:"選擇日期",format:"YYYY/MM/DD","value-format":"YYYY-MM-DD",style:{width:"160px"}},null,8,["modelValue"]),e("div",Ut,[n(f,{type:Y(0)?"primary":"default",onClick:K},{default:l(()=>[...t[7]||(t[7]=[m(" 今天 ",-1)])]),_:1},8,["type"]),n(f,{type:Y(1)?"primary":"default",onClick:Q},{default:l(()=>[...t[8]||(t[8]=[m(" 明天 ",-1)])]),_:1},8,["type"]),n(f,{type:Y(2)?"primary":"default",onClick:G},{default:l(()=>[...t[9]||(t[9]=[m(" 後天 ",-1)])]),_:1},8,["type"])])]),e("div",It,[n(st,{modelValue:h.value,"onUpdate:modelValue":t[1]||(t[1]=s=>h.value=s),placeholder:"搜尋訂單編號、客戶姓名、電話","prefix-icon":"Search",style:{"max-width":"280px"}},null,8,["modelValue"]),n(f,{icon:"Refresh",onClick:J,disabled:!h.value},null,8,["disabled"])]),e("div",jt,[n(f,{icon:v.value==="detailed"?"Document":"List",onClick:t[2]||(t[2]=s=>v.value=v.value==="detailed"?"simple":"detailed")},{default:l(()=>[m(o(v.value==="detailed"?"簡易模式":"詳細模式"),1)]),_:1},8,["icon"]),n(f,{type:"primary",icon:"Plus"},{default:l(()=>[...t[10]||(t[10]=[m("新增訂單",-1)])]),_:1})])]),e("div",Ft,[(d(),u(C,null,M(T,s=>e("div",{key:s.value,class:P(["status-tab",{active:q.value===s.value}]),onClick:D=>q.value=s.value},[e("span",Kt,o(s.label),1),s.value!=="all"?(d(),u("span",{key:0,class:"tab-count",style:z({background:s.color})},o(s.count),5)):(d(),u("span",Qt,o(k.value.total),1))],10,Ht)),64))]),e("div",Gt,[(d(!0),u(C,null,M(R.value,s=>(d(),u("div",{key:s.id,class:"order-card",onClick:D=>H(s.id)},[e("div",Xt,[e("div",Zt,[e("span",te,o(L(s.id).prefix),1),e("span",ee,o(L(s.id).lastThree),1)]),e("div",{class:"order-status-badge",style:z({background:U(s.status)})},o(x(s.status)),5)]),e("div",ae,[e("div",se,[n(p,{class:"customer-icon"},{default:l(()=>[n(nt)]),_:1}),e("span",ne,o(s.customerName),1)]),v.value==="detailed"?(d(),u("div",oe,[n(p,null,{default:l(()=>[n(ot)]),_:1}),m(" "+o(s.phone),1)])):y("",!0)]),e("div",{class:P(["order-pickup",{soon:S(s.pickupTime),today:w(s.pickupTime)}])},[n(p,null,{default:l(()=>[n(it)]),_:1}),t[12]||(t[12]=e("span",{class:"pickup-label"},"取貨時間",-1)),e("span",ie,[w(s.pickupTime)?y("",!0):(d(),u("span",le,o(F(s.pickupTime)),1)),m(" "+o(j(s.pickupTime)),1)]),S(s.pickupTime)?(d(),O($,{key:0,type:"danger",size:"small",effect:"dark"},{default:l(()=>[...t[11]||(t[11]=[m("即將到時",-1)])]),_:1})):y("",!0)],2),v.value==="detailed"?(d(),u("div",ce,[(d(!0),u(C,null,M(s.items,(D,lt)=>(d(),u("div",{key:lt,class:"order-item"},[e("span",de,o(D.name),1),e("span",ue,"× "+o(D.quantity),1)]))),128))])):y("",!0),v.value==="detailed"&&s.note?(d(),u("div",re,[n(p,null,{default:l(()=>[n(E)]),_:1}),e("span",null,o(s.note),1)])):y("",!0),e("div",me,[e("div",pe,[t[13]||(t[13]=e("span",{class:"amount-label"},"總金額",-1)),e("span",_e,"$"+o(s.totalAmount),1)]),v.value==="detailed"?(d(),u("div",ye,[n($,{size:"small"},{default:l(()=>[m(o(I(s.payment)),1)]),_:2},1024)])):y("",!0)]),e("div",{class:"order-actions",onClick:t[3]||(t[3]=yt(()=>{},["stop"]))},[s.status==="ordered"?(d(),O(f,{key:0,type:"danger",plain:"",size:"small",onClick:D=>V(s,"cancelled")},{default:l(()=>[...t[14]||(t[14]=[m(" 取消 ",-1)])]),_:1},8,["onClick"])):y("",!0),s.status==="ordered"?(d(),O(f,{key:1,class:"complete",type:"success",size:"small",onClick:D=>V(s,"completed")},{default:l(()=>[...t[15]||(t[15]=[m(" 完成訂單 ",-1)])]),_:1},8,["onClick"])):y("",!0)])],8,Jt))),128)),R.value.length===0?(d(),u("div",ve,[n(p,{class:"empty-icon"},{default:l(()=>[n(E)]),_:1}),t[16]||(t[16]=e("p",{class:"empty-text"},"目前沒有訂單",-1))])):y("",!0)])])}}},ge=ct(fe,[["__scopeId","data-v-382a0292"]]);export{ge as default};
