import{_ as $,l as E,n as p,c as d,o as l,b as t,v as a,t as n,R as L,d as i,w as r,J as O,h as u,g as h,m as f,F as A,y as I,V as j,x as _,f as F,W as H,q as U}from"./index-Dl5cwTgt.js";/* empty css            */const J={class:"order-header"},R={class:"order-id-section"},W={class:"order-id"},G={class:"id-prefix"},K={class:"id-highlight"},Q={class:"order-customer"},X={class:"info-row"},Y={class:"info-label"},Z={class:"info-value"},ee={key:0,class:"info-row"},te={class:"info-label"},se={class:"info-value"},oe={key:1,class:"info-row"},ne={class:"info-label"},le={class:"info-value pickup-time"},de={key:0,class:"pickup-date"},ae={key:0,class:"order-items"},ie={class:"items-list"},re={class:"item-name"},ce={class:"item-quantity"},ue={class:"item-price"},me={key:1,class:"order-note"},ve={class:"note-label"},pe={class:"note-content"},fe={class:"order-footer"},ye={class:"footer-info"},ke={key:0,class:"payment-method"},be={class:"order-total"},_e={class:"total-amount"},ge={__name:"OrderCard",props:{order:{type:Object,required:!0},viewMode:{type:String,required:!0}},emits:["open","status-change"],setup(s,{emit:x}){const y=s,M=[{label:"全部",value:"all",color:""},{label:"已下單",value:"ordered",color:"#3b82f6",count:0},{label:"已完成",value:"completed",color:"#10b981",count:0},{label:"已取消",value:"cancelled",color:"#ef4444",count:0}],g=x,T=o=>({ordered:"已下單",completed:"已完成",cancelled:"已取消"})[o]||o,C=o=>M.find(m=>m.value===o)?.color||"#6b7280",S=o=>({cash:"現金",bank:"匯款",linepay:"Line Pay",card:"信用卡"})[o]||o,q=o=>f(o).isSame(f(),"day"),w=E(()=>{const o=y.order?.id||"",e=o.slice(-3);return{prefix:o.slice(0,-3),lastThree:e}}),z=()=>{g("open",y.order.id)},k=o=>{g("status-change",y.order,o)};return(o,e)=>{const m=p("User"),v=O,B=p("Phone"),D=p("AlarmClock"),N=p("Document"),P=j,b=F;return l(),d("div",{class:U(["order-card",{"simple-mode":s.viewMode==="simple"}]),onClick:z},[e[15]||(e[15]=t("div",{class:"order-ticket-top"},null,-1)),t("div",J,[t("div",R,[e[4]||(e[4]=t("div",{class:"order-label"},"訂單編號",-1)),t("div",W,[t("span",G,n(w.value.prefix),1),t("span",K,n(w.value.lastThree),1)])]),t("div",{class:"order-status-stamp",style:L({borderColor:C(s.order.status),color:C(s.order.status)})},[t("span",null,n(T(s.order.status)),1)],4)]),t("div",Q,[t("div",X,[t("div",Y,[i(v,null,{default:r(()=>[i(m)]),_:1}),e[5]||(e[5]=t("span",null,"顧客",-1))]),t("span",Z,n(s.order.customerName),1)]),s.viewMode==="detailed"?(l(),d("div",ee,[t("div",te,[i(v,null,{default:r(()=>[i(B)]),_:1}),e[6]||(e[6]=t("span",null,"電話",-1))]),t("span",se,n(s.order.phone),1)])):a("",!0),s.viewMode==="detailed"?(l(),d("div",oe,[t("div",ne,[i(v,null,{default:r(()=>[i(D)]),_:1}),e[7]||(e[7]=t("span",null,"取貨",-1))]),t("span",le,[q(s.order.pickupTime)?a("",!0):(l(),d("span",de,n(h(f)(s.order.pickupTime).format("MM/DD")),1)),u(" "+n(h(f)(s.order.pickupTime).format("HH:mm")),1)])])):a("",!0)]),e[16]||(e[16]=t("div",{class:"order-divider"},null,-1)),s.viewMode==="detailed"?(l(),d("div",ae,[e[8]||(e[8]=t("div",{class:"items-header"},"訂購明細",-1)),t("div",ie,[(l(!0),d(A,null,I(s.order.items,(c,V)=>(l(),d("div",{key:V,class:"order-item"},[t("span",re,n(c.name),1),t("span",ce,"× "+n(c.quantity),1),t("span",ue,"$"+n(c.price*c.quantity),1)]))),128))])])):a("",!0),s.viewMode==="detailed"&&s.order.note?(l(),d("div",me,[t("div",ve,[i(v,null,{default:r(()=>[i(N)]),_:1}),e[9]||(e[9]=t("span",null,"備註",-1))]),t("div",pe,n(s.order.note),1)])):a("",!0),t("div",fe,[t("div",ye,[s.viewMode==="detailed"?(l(),d("div",ke,[e[10]||(e[10]=t("span",{class:"label"},"付款方式",-1)),i(P,{size:"small",type:"info"},{default:r(()=>[u(n(S(s.order.payment)),1)]),_:1})])):a("",!0)]),t("div",be,[e[11]||(e[11]=t("span",{class:"total-label"},"總計",-1)),t("span",_e,"$"+n(s.order.totalAmount),1)])]),t("div",{class:"order-actions",onClick:e[3]||(e[3]=H(()=>{},["stop"]))},[s.order.status==="ordered"?(l(),_(b,{key:0,type:"danger",plain:"",size:"small",onClick:e[0]||(e[0]=c=>k("cancelled"))},{default:r(()=>[...e[12]||(e[12]=[u(" 取消訂單 ",-1)])]),_:1})):a("",!0),s.order.status==="ordered"?(l(),_(b,{key:1,class:"complete",type:"success",size:"small",onClick:e[1]||(e[1]=c=>k("completed"))},{default:r(()=>[...e[13]||(e[13]=[u(" 完成訂單 ",-1)])]),_:1})):a("",!0),s.order.status==="completed"||s.order.status==="cancelled"?(l(),_(b,{key:2,type:"primary",plain:"",size:"small",onClick:e[2]||(e[2]=c=>k("ordered"))},{default:r(()=>[...e[14]||(e[14]=[u(" 復原為已下單 ",-1)])]),_:1})):a("",!0)]),e[17]||(e[17]=t("div",{class:"order-ticket-bottom"},null,-1))],2)}}},he=$(ge,[["__scopeId","data-v-d6b72d81"]]);export{he as _};
