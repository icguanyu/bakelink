import{_ as y,u as V,s as h,r as k,a as E,c as x,o as B,b as n,d as o,w as a,E as R,e as I,f as N,g as c,h as _,i as q,j as z,k as f}from"./index-DLQBT_Le.js";import{u as A}from"./auth-2F5gCAyg.js";const C={class:"login"},F={class:"login__card"},K={__name:"home",setup(S){const g=V(),d=A(),{loading:t}=h(d),i=k(),s=E({email:"admin@bakelink.local",password:"Admin123!"}),w={email:[{required:!0,message:"請輸入帳號",trigger:"blur"}],password:[{required:!0,message:"請輸入密碼",trigger:"blur"}]},u=async()=>{if(!(t.value||!await i.value?.validate?.().catch(()=>!1)))try{const e=await d.login({email:s.email,password:s.password});console.log(e),f.success("登入成功"),g.push("/shop")}catch(e){console.log("catch",e);const l=e?.response?.data?.message||e?.response?.data||"登入失敗";f.error(l)}};return(b,e)=>{const l=I,m=R,p=N,v=z;return B(),x("div",C,[n("div",F,[e[4]||(e[4]=n("div",{class:"login__title"},"登入",-1)),e[5]||(e[5]=n("div",{class:"login__subtitle"},"請使用你的帳號與密碼",-1)),o(v,{ref_key:"formRef",ref:i,class:"login__form","label-position":"top",model:s,rules:w,onKeyup:q(u,["enter"])},{default:a(()=>[o(m,{label:"帳號",prop:"email"},{default:a(()=>[o(l,{modelValue:s.email,"onUpdate:modelValue":e[0]||(e[0]=r=>s.email=r),placeholder:"輸入帳號",autocomplete:"username"},null,8,["modelValue"])]),_:1}),o(m,{label:"密碼",prop:"password"},{default:a(()=>[o(l,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=r=>s.password=r),placeholder:"輸入密碼",type:"password",autocomplete:"current-password","show-password":""},null,8,["modelValue"])]),_:1}),o(p,{class:"login__submit",type:"primary",size:"large",loading:c(t),disabled:c(t),onClick:u},{default:a(()=>[...e[2]||(e[2]=[_(" 登入 ",-1)])]),_:1},8,["loading","disabled"]),o(p,{class:"login__ghost",type:"default",size:"large"},{default:a(()=>[...e[3]||(e[3]=[_(" 忘記密碼 ",-1)])]),_:1})]),_:1},8,["model"])])])}}},j=y(K,[["__scopeId","data-v-b2ea2ed3"]]);export{j as default};
