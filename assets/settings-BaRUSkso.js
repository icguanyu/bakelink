import{_ as I,r as E,I as R,n as H,c as m,o as v,b as s,d as a,w as t,J as W,q as P,t as L,u as q,a as J,N as Q,A as h,a2 as K,E as X,e as Y,a3 as Z,f as ee,h as k,U as w,v as le,a4 as ae,a5 as se,a6 as oe,F as T,y as B,a7 as te,W as ne,Q as de,j as ue,G as pe,k as F}from"./index-DLQBT_Le.js";/* empty css               *//* empty css                     *//* empty css               */import{u as ie}from"./auth-2F5gCAyg.js";const re={class:"images-uploader"},me={key:0,class:"image-item"},ve=["src"],fe={class:"upload-text"},be={__name:"UploadPhoto",props:{modelValue:{type:String,default:""},disabled:Boolean},emits:["upload","delete","update:modelValue"],setup(C,{emit:M}){const y=C,V=M,x=E(!1),d=E(y.modelValue||""),o=async u=>{const i=u.target.files?.[0];if(!i)return;const b=URL.createObjectURL(i);d.value=b,V("upload",b),V("update:modelValue",b),u.target.value=""},f=u=>{d.value="",V("delete",u),V("update:modelValue","")};return R(()=>y.modelValue,u=>{d.value=u||""},{deep:!0}),(u,i)=>{const b=H("Delete"),p=W;return v(),m("div",re,[s("div",{class:P(["gallery",{"has-image":!!d.value}])},[d.value?(v(),m("div",me,[s("img",{src:d.value,alt:"已上傳圖片"},null,8,ve),a(p,{class:"delete-btn",onClick:i[0]||(i[0]=e=>f(0))},{default:t(()=>[a(b)]),_:1})])):(v(),m("label",{key:1,for:"image-upload",class:P([{disabled:x.value||C.disabled},"upload-box"])},[s("div",fe,L(x.value?"上傳中...":"上傳圖片"),1)],2))],2),i[1]||(i[1]=s("small",{class:"hint"},"建議尺寸 600x400，檔案小於 1MB",-1)),s("input",{type:"file",id:"image-upload",accept:".png,.jpg,.jpeg,.webp",onChange:o},null,32)])}}},Ve=I(be,[["__scopeId","data-v-12d698c0"]]),ce={class:"settings-manager"},ge={class:"segmented"},_e={class:"flex flex-col gap-2"},ke={class:"flex"},ye={key:0,class:"shipping-config"},xe={class:"hours-head"},Ue={class:"hours"},he={class:"day"},we={__name:"settings",setup(C){const M=q(),y=ie(),V=[{label:"現金",value:"cash"},{label:"Line Pay",value:"linepay"}],x=[{label:"門市自取",value:"pickup"},{label:"宅配",value:"delivery"}],d=E(["一","二","三","四","五","六","日"].map(p=>({day:p,enabled:!["六","日"].includes(p),time:["09:00","18:00"]}))),o=J({avatar:"",shopName:"山丘烘焙坊",owner:"王麵麥",phone:"02-1234-5678",email:"hello@bakery.test",address:"台北市中山區麵包路 123 號",intro:"每日現烤小麥香，主打酸種、歐包與早午餐。",orderPickupTime:"14:00",paymentMethods:["cash"],pickupMethods:["pickup","delivery"],shipping:{freeThreshold:800,fee:100,note:"滿 $800 免運費，未滿貿 $100 運費。"},packaging:{defaultPack:"紙袋",packFee:5,ecoDiscount:10,note:"歡迎自備容器，享環保折扣。"}}),f=E("brand"),u=p=>{d.value=d.value.map(e=>({...e,enabled:p}))},i=()=>{const p={...o,businessHours:d.value};console.log("儲存商家設定：",p),F.success("設定已儲存")},b=()=>{pe.confirm("確定要登出嗎？","登出確認",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then(()=>{y.logout(),F.success("已登出"),M.push("/")}).catch(()=>{})};return(p,e)=>{const O=Q,j=Ve,r=Y,n=X,z=Z,c=ee,g=K,$=ae,D=te,S=oe,N=se,U=ne,A=de,G=ue;return v(),m("div",ce,[e[40]||(e[40]=s("div",{class:"page-header"},[s("div",{class:"header-top"},[s("div",null,[s("h2",null,"設定"),s("p",{class:"subtitle"},"管理商店基本資訊、付款方式、營業時間與包裝設定")])])],-1)),s("div",ge,[a(O,{modelValue:f.value,"onUpdate:modelValue":e[0]||(e[0]=l=>f.value=l),options:[{label:"01 基本",value:"brand"},{label:"02 取貨付款",value:"pay"},{label:"03 營業時間",value:"hours"},{label:"04 包裝",value:"pack"}]},null,8,["modelValue"])]),a(G,{"label-width":"80px","label-position":"left"},{default:t(()=>[s("div",_e,[h(a(g,{class:"card",shadow:"never"},{default:t(()=>[e[23]||(e[23]=s("div",{class:"panel"},[s("div",{class:"panel__header"},[s("span",{class:"badge"},"01"),s("div",null,[s("p",{class:"label"},"品牌"),s("h3",null,"商店設定")])]),s("small",{class:"hint"},"請填寫商家基本資料，使用者可於前台查看")],-1)),e[24]||(e[24]=s("div",{class:"card__subtitle"},"標誌/LOGO",-1)),a(j,{modelValue:o.avatar,"onUpdate:modelValue":e[1]||(e[1]=l=>o.avatar=l),disabled:!1,onUpload:e[2]||(e[2]=l=>{o.avatar=l})},null,8,["modelValue"]),e[25]||(e[25]=s("br",null,null,-1)),e[26]||(e[26]=s("div",{class:"card__subtitle"},"基本資訊",-1)),a(n,{label:"店名"},{default:t(()=>[a(r,{modelValue:o.shopName,"onUpdate:modelValue":e[3]||(e[3]=l=>o.shopName=l),placeholder:"輸入店名"},null,8,["modelValue"])]),_:1}),a(n,{label:"負責人"},{default:t(()=>[a(r,{modelValue:o.owner,"onUpdate:modelValue":e[4]||(e[4]=l=>o.owner=l),placeholder:"負責人姓名"},null,8,["modelValue"])]),_:1}),a(n,{label:"電話"},{default:t(()=>[a(r,{modelValue:o.phone,"onUpdate:modelValue":e[5]||(e[5]=l=>o.phone=l),placeholder:"聯絡電話"},null,8,["modelValue"])]),_:1}),a(n,{label:"Email"},{default:t(()=>[a(r,{modelValue:o.email,"onUpdate:modelValue":e[6]||(e[6]=l=>o.email=l),placeholder:"聯絡信箱"},null,8,["modelValue"])]),_:1}),a(n,{label:"地址"},{default:t(()=>[a(r,{modelValue:o.address,"onUpdate:modelValue":e[7]||(e[7]=l=>o.address=l),placeholder:"門市地址"},null,8,["modelValue"])]),_:1}),a(n,{label:"介紹"},{default:t(()=>[a(r,{modelValue:o.intro,"onUpdate:modelValue":e[8]||(e[8]=l=>o.intro=l),type:"textarea",rows:3,placeholder:"品牌故事、主打品項"},null,8,["modelValue"])]),_:1}),a(z),a(n,{label:"帳號管理"},{default:t(()=>[a(c,{type:"danger",plain:"",onClick:b},{default:t(()=>[...e[22]||(e[22]=[k(" 登出帳號 ",-1)])]),_:1})]),_:1})]),_:1},512),[[w,f.value==="brand"]]),h(a(g,{class:"card",shadow:"never"},{default:t(()=>[e[30]||(e[30]=s("div",{class:"panel"},[s("div",{class:"panel__header"},[s("span",{class:"badge"},"02"),s("div",null,[s("p",{class:"label"},"取貨與付款"),s("h3",null,"支付、取貨與宅配")])]),s("small",{class:"hint"},"設定取貨方式與接受的付款方式")],-1)),a(n,{label:"取貨時間"},{default:t(()=>[s("div",ke,[a($,{modelValue:o.orderPickupTime,"onUpdate:modelValue":e[9]||(e[9]=l=>o.orderPickupTime=l),placeholder:"開始",start:"06:00",step:"00:30",end:"22:00",filterable:!1,style:{width:"120px"}},null,8,["modelValue"]),e[27]||(e[27]=s("span",{class:"white-space-nowrap"},"後，開放取貨",-1))])]),_:1}),a(n,{label:"付款方式",prop:"paymentMethods"},{default:t(()=>[a(N,{modelValue:o.paymentMethods,"onUpdate:modelValue":e[10]||(e[10]=l=>o.paymentMethods=l)},{default:t(()=>[a(S,{wrap:""},{default:t(()=>[(v(),m(T,null,B(V,l=>a(D,{key:l.value,label:l.label,value:l.value,border:""},null,8,["label","value"])),64))]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(n,{label:"取貨方式",prop:"pickupMethods"},{default:t(()=>[a(N,{modelValue:o.pickupMethods,"onUpdate:modelValue":e[11]||(e[11]=l=>o.pickupMethods=l)},{default:t(()=>[a(S,{wrap:""},{default:t(()=>[(v(),m(T,null,B(x,l=>a(D,{key:l.value,label:l.label,value:l.value,border:""},null,8,["label","value"])),64))]),_:1})]),_:1},8,["modelValue"])]),_:1}),o.pickupMethods.includes("delivery")?(v(),m("div",ye,[a(n,{label:"運費"},{default:t(()=>[a(U,{modelValue:o.shipping.fee,"onUpdate:modelValue":e[12]||(e[12]=l=>o.shipping.fee=l),min:0,max:500,precision:0},null,8,["modelValue"]),e[28]||(e[28]=s("span",{class:"suffix"},"元",-1))]),_:1}),a(n,{label:"免運門檻"},{default:t(()=>[a(U,{modelValue:o.shipping.freeThreshold,"onUpdate:modelValue":e[13]||(e[13]=l=>o.shipping.freeThreshold=l),min:0,max:5e3,step:100,precision:0},null,8,["modelValue"]),e[29]||(e[29]=s("span",{class:"suffix"},"元（設 0 = 不提供免運）",-1))]),_:1}),a(n,{label:"備註"},{default:t(()=>[a(r,{modelValue:o.shipping.note,"onUpdate:modelValue":e[14]||(e[14]=l=>o.shipping.note=l),type:"textarea",rows:2,placeholder:"運費說明、配送範圍等"},null,8,["modelValue"])]),_:1})])):le("",!0)]),_:1},512),[[w,f.value==="pay"]]),h(a(g,{class:"card",shadow:"never"},{default:t(()=>[e[34]||(e[34]=s("div",{class:"panel"},[s("div",{class:"panel__header"},[s("span",{class:"badge"},"03"),s("div",null,[s("p",{class:"label"},"營業"),s("h3",null,"營業時間")])]),s("small",{class:"hint"},"門市實際營業時間")],-1)),s("div",xe,[e[33]||(e[33]=s("span",null,"週一～週日",-1)),a(S,null,{default:t(()=>[a(c,{size:"small",text:"",onClick:e[15]||(e[15]=l=>u(!0))},{default:t(()=>[...e[31]||(e[31]=[k("全開",-1)])]),_:1}),a(c,{size:"small",text:"",onClick:e[16]||(e[16]=l=>u(!1))},{default:t(()=>[...e[32]||(e[32]=[k("全關",-1)])]),_:1})]),_:1})]),s("div",Ue,[(v(!0),m(T,null,B(d.value,(l,Ee)=>(v(),m("div",{key:l.day,class:"hour-row"},[a(A,{modelValue:l.enabled,"onUpdate:modelValue":_=>l.enabled=_},null,8,["modelValue","onUpdate:modelValue"]),s("span",he,"週"+L(l.day),1),a($,{modelValue:l.time[0],"onUpdate:modelValue":_=>l.time[0]=_,disabled:!l.enabled,placeholder:"開始",start:"06:00",step:"00:30",end:"22:00",filterable:!1},null,8,["modelValue","onUpdate:modelValue","disabled"]),a($,{modelValue:l.time[1],"onUpdate:modelValue":_=>l.time[1]=_,disabled:!l.enabled,placeholder:"結束",start:"06:00",step:"00:30",end:"22:00",filterable:!1},null,8,["modelValue","onUpdate:modelValue","disabled"])]))),128))])]),_:1},512),[[w,f.value==="hours"]]),h(a(g,{class:"card",shadow:"never"},{default:t(()=>[e[37]||(e[37]=s("div",{class:"panel"},[s("div",{class:"panel__header"},[s("span",{class:"badge"},"04"),s("div",null,[s("p",{class:"label"},"包裝"),s("h3",null,"包裝設定")])]),s("small",{class:"hint"},"是否提供包裝選項")],-1)),a(n,{label:"預設包裝"},{default:t(()=>[a(r,{modelValue:o.packaging.defaultPack,"onUpdate:modelValue":e[17]||(e[17]=l=>o.packaging.defaultPack=l),placeholder:"紙袋/紙盒/裸裝"},null,8,["modelValue"])]),_:1}),a(n,{label:"包裝費"},{default:t(()=>[a(U,{modelValue:o.packaging.packFee,"onUpdate:modelValue":e[18]||(e[18]=l=>o.packaging.packFee=l),min:0,max:50,precision:0},null,8,["modelValue"]),e[35]||(e[35]=s("span",{class:"suffix"},"元/單",-1))]),_:1}),a(n,{label:"環保折抵"},{default:t(()=>[a(U,{modelValue:o.packaging.ecoDiscount,"onUpdate:modelValue":e[19]||(e[19]=l=>o.packaging.ecoDiscount=l),min:0,max:50,precision:0},null,8,["modelValue"]),e[36]||(e[36]=s("span",{class:"suffix"},"元/單",-1))]),_:1}),a(n,{label:"備註"},{default:t(()=>[a(r,{modelValue:o.packaging.note,"onUpdate:modelValue":e[20]||(e[20]=l=>o.packaging.note=l),type:"textarea",rows:2,placeholder:"自備餐具優惠、保冷袋租借等"},null,8,["modelValue"])]),_:1})]),_:1},512),[[w,f.value==="pack"]])])]),_:1}),a(g,{class:"actions",shadow:"never"},{default:t(()=>[a(c,{onClick:e[21]||(e[21]=l=>p.$router.go(-1))},{default:t(()=>[...e[38]||(e[38]=[k("取消",-1)])]),_:1}),a(c,{type:"primary",onClick:i},{default:t(()=>[...e[39]||(e[39]=[k(" 儲存設定 ",-1)])]),_:1})]),_:1})])}}},Be=I(we,[["__scopeId","data-v-f189f760"]]);export{Be as default};
