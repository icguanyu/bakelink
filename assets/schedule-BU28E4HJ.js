import{_ as Q,r as k,m as p,l as g,n as X,c as o,o as d,b as t,d as y,w as B,h as M,f as Z,t as s,I as u,Y as tt,F as T,y as N,g as et,J as st,K as R,U as j}from"./index-Bh9hzOWb.js";const at={class:"schedule-container"},ot={class:"schedule-header"},dt={class:"header-top"},ct={class:"month-navigation"},lt={class:"month-label"},nt={class:"schedule-main"},it={class:"schedule-left"},rt={class:"schedule-list"},ut=["onClick"],mt={class:"date-section"},vt={class:"date-value"},_t={key:0,class:"mini-stats"},pt={key:0,class:"stat-badge ordered"},ht={key:1,class:"stat-badge completed"},ft={key:2,class:"stat-badge cancelled"},kt={key:1,class:"no-orders-tag"},yt={key:0,class:"schedule-right"},Dt={class:"detail-header"},Ot={key:0,class:"detail-stats"},gt={class:"stat-ordered"},Rt={class:"stat-completed"},bt={class:"stat-cancelled"},Pt={class:"detail-content"},Yt={key:0,class:"products-section"},Mt={class:"section-title"},Tt={class:"count"},Nt={class:"products-grid"},wt={class:"product-info"},At={class:"product-name"},Ct={class:"product-category"},St={class:"product-footer"},Lt={class:"product-price"},xt={key:0,class:"product-stock"},Bt={key:1,class:"product-sold-out"},jt={key:1,class:"orders-section"},Et={class:"section-title"},It={class:"count"},Vt={class:"orders-list"},Wt={class:"order-id"},$t={class:"order-customer"},Ft={class:"name"},zt={class:"order-time"},Ht={class:"order-items"},Jt={class:"order-amount"},Kt={key:2,class:"empty-orders"},Ut={__name:"schedule",setup(qt){const r=k(p()),l=k(null),m=k([]),E=k([{id:"PROD-001",name:"ä¸¹éº¥ç‰›è§’éºµåŒ…",category:"ç‰›è§’éºµåŒ…",image:"ğŸ¥",price:45,stock:25,available:!0},{id:"PROD-002",name:"æ³•å¼é•·æ£éºµåŒ…",category:"åå¸",image:"ğŸ",price:65,stock:15,available:!0},{id:"PROD-003",name:"æ ¸æ¡ƒæå­éºµåŒ…",category:"è»ŸéºµåŒ…",image:"ğŸ",price:55,stock:20,available:!0},{id:"PROD-004",name:"å·§å…‹åŠ›å¯é Œ",category:"å¯é Œ",image:"ğŸ¥",price:50,stock:18,available:!0},{id:"PROD-005",name:"èµ·å¸éºµåŒ…",category:"èµ·å¸éºµåŒ…",image:"ğŸ§€",price:48,stock:22,available:!1},{id:"PROD-006",name:"è‘¡è„ä¹¾éºµåŒ…",category:"è»ŸéºµåŒ…",image:"ğŸ",price:52,stock:16,available:!0}]),I={"2026-02-16":["PROD-001","PROD-002","PROD-003","PROD-004","PROD-006"],"2026-02-15":["PROD-001","PROD-003","PROD-005","PROD-006"],"2026-02-17":["PROD-002","PROD-004","PROD-005"],"2026-02-18":["PROD-001","PROD-002","PROD-003","PROD-004"]},V=k([{id:"ORD-20260216-001",customerName:"é™³å°ç¾",pickupTime:"2026-02-16 14:00",status:"ordered",totalAmount:465,items:2},{id:"ORD-20260216-002",customerName:"ç‹å¤§æ˜",pickupTime:"2026-02-16 15:30",status:"ordered",totalAmount:605,items:2},{id:"ORD-20260216-004",customerName:"é­å¿—è»’",pickupTime:"2026-02-16 10:30",status:"ordered",totalAmount:1290,items:7},{id:"ORD-20260216-009",customerName:"é„’èŠŠèŠŠ",pickupTime:"2026-02-16 15:00",status:"ordered",totalAmount:895,items:5},{id:"ORD-20260216-013",customerName:"å³æ˜€åº­",pickupTime:"2026-02-16 17:30",status:"ordered",totalAmount:2770,items:6},{id:"ORD-20260215-015",customerName:"å¼µé›…èŠ³",pickupTime:"2026-02-15 18:00",status:"completed",totalAmount:540,items:2},{id:"ORD-20260215-014",customerName:"åŠ‰å»ºåœ‹",pickupTime:"2026-02-15 17:30",status:"cancelled",totalAmount:330,items:1},{id:"ORD-20260217-001",customerName:"é»ƒå¿—æ˜",pickupTime:"2026-02-17 10:00",status:"ordered",totalAmount:555,items:2},{id:"ORD-20260217-002",customerName:"ææ·‘èŠ¬",pickupTime:"2026-02-17 14:30",status:"ordered",totalAmount:300,items:1},{id:"ORD-20260218-001",customerName:"å‘¨ç¾ç²",pickupTime:"2026-02-18 11:00",status:"ordered",totalAmount:580,items:2}]),w=()=>{const c=[],a=r.value.startOf("month"),i=r.value.endOf("month"),f=a.day(),P=a.subtract(f,"day"),S=6-i.day(),L=i.add(S,"day");let v=P;for(;v.isBefore(L)||v.isSame(L);){const x=v.format("YYYY-MM-DD"),_=V.value.filter(n=>n.pickupTime.startsWith(x)),K=v.format("YYYY-MM"),U=r.value.format("YYYY-MM"),q=K===U,G={total:_.length,ordered:_.filter(n=>n.status==="ordered").length,completed:_.filter(n=>n.status==="completed").length,cancelled:_.filter(n=>n.status==="cancelled").length,revenue:_.filter(n=>n.status!=="cancelled").reduce((n,Y)=>n+Y.totalAmount,0)};c.push({date:x,dateObj:v.clone(),orders:_.sort((n,Y)=>p(n.pickupTime).diff(p(Y.pickupTime))),stats:G,isOpen:!0,hasOrders:_.length>0,isCurrentMonth:q}),v=v.add(1,"day")}return c};m.value=w();const A=()=>{m.value=w();const c=p().format("YYYY-MM-DD"),a=m.value.find(i=>i.date===c);if(a&&a.hasOrders)l.value=c;else{const i=m.value.find(f=>f.isCurrentMonth);l.value=i?.date||null}};A();const b=()=>{A()},W=()=>{r.value=r.value.subtract(1,"month"),b()},$=()=>{r.value=r.value.add(1,"month"),b()},F=()=>{r.value=p(),l.value=null,b()},z=g(()=>r.value.format("YYYY å¹´ M æœˆ")),D=g(()=>l.value?m.value.find(c=>c.date===l.value)?.orders||[]:[]),h=g(()=>l.value&&m.value.find(c=>c.date===l.value)?.stats||null),O=g(()=>l.value?(I[l.value]||[]).map(a=>E.value.find(i=>i.id===a)).filter(Boolean):[]),H=c=>({ordered:"å·²ä¸‹å–®",completed:"å·²å®Œæˆ",cancelled:"å·²å–æ¶ˆ"})[c]||c,C=c=>({ordered:"#3b82f6",completed:"#10b981",cancelled:"#ef4444"})[c]||"#6b7280",J=c=>p(c).format("HH:mm");return(c,a)=>{const i=Z,f=X("Document"),P=st;return d(),o("div",at,[t("div",ot,[t("div",dt,[a[1]||(a[1]=t("div",null,[t("h2",null,"æ¥å–®æ’ç¨‹"),t("p",{class:"subtitle"},"ç®¡ç†æ¯æ—¥æ¥å–®ç‹€æ³ï¼Œå¿«é€ŸæŸ¥çœ‹è¨‚å–®è³‡è¨Š")],-1)),y(i,{type:"primary",icon:"Back",onClick:F},{default:B(()=>[...a[0]||(a[0]=[M(" å›åˆ°ä»Šå¤© ",-1)])]),_:1})]),t("div",ct,[y(i,{icon:"ArrowLeft",circle:"",onClick:W}),t("span",lt,s(z.value),1),y(i,{icon:"ArrowRight",circle:"",onClick:$})])]),t("div",nt,[t("div",it,[a[2]||(a[2]=tt('<div class="schedule-week-header" data-v-6dc3df69><div class="week-day" data-v-6dc3df69>æ—¥</div><div class="week-day" data-v-6dc3df69>ä¸€</div><div class="week-day" data-v-6dc3df69>äºŒ</div><div class="week-day" data-v-6dc3df69>ä¸‰</div><div class="week-day" data-v-6dc3df69>å››</div><div class="week-day" data-v-6dc3df69>äº”</div><div class="week-day" data-v-6dc3df69>å…­</div></div>',1)),t("div",rt,[(d(!0),o(T,null,N(m.value,e=>(d(),o("div",{key:e.date,class:R(["schedule-item",{"item-selected":l.value===e.date,"not-current-month":!e.isCurrentMonth}]),onClick:S=>l.value=e.date},[t("div",{class:R(["schedule-header-row",{"no-orders":!e.hasOrders}])},[t("div",mt,[t("div",{class:R(["date-box",{saturday:e.dateObj.day()===6,sunday:e.dateObj.day()===0}])},[t("div",vt,s(e.dateObj.format("DD")),1)],2)]),e.hasOrders?(d(),o("div",_t,[e.stats.ordered>0?(d(),o("span",pt," â†“ "+s(e.stats.ordered),1)):u("",!0),e.stats.completed>0?(d(),o("span",ht," âœ“ "+s(e.stats.completed),1)):u("",!0),e.stats.cancelled>0?(d(),o("span",ft," âœ• "+s(e.stats.cancelled),1)):u("",!0)])):(d(),o("div",kt,"æœªé–‹å–®"))],2)],10,ut))),128))])]),l.value?(d(),o("div",yt,[t("div",Dt,[t("div",null,[t("h3",null,s(et(p)(l.value).format("YYYY å¹´ M æœˆ DD æ—¥ (ddd)")),1),h.value?(d(),o("p",Ot,[M(" å…± "+s(h.value.total)+" ç­†è¨‚å–® | ",1),t("span",gt,"â†“ "+s(h.value.ordered),1),t("span",Rt,"âœ“ "+s(h.value.completed),1),t("span",bt,"âœ• "+s(h.value.cancelled),1),M(" | ç‡Ÿæ”¶ $"+s(h.value.revenue),1)])):u("",!0)])]),t("div",Pt,[O.value.length>0?(d(),o("div",Yt,[t("div",Mt,[a[3]||(a[3]=t("span",null,"ä»Šæ—¥å‡ºçˆ",-1)),t("span",Tt,s(O.value.length)+" é …å•†å“",1)]),t("div",Nt,[(d(!0),o(T,null,N(O.value,e=>(d(),o("div",{key:e.id,class:R(["product-card",{"out-of-stock":!e.available}])},[t("div",wt,[t("h4",At,s(e.name),1),t("p",Ct,s(e.category),1),t("div",St,[t("span",Lt,"$"+s(e.price),1),e.available?(d(),o("span",xt,s(e.stock)+" å€‹",1)):(d(),o("span",Bt,"å·²å”®å®Œ"))])])],2))),128))])])):u("",!0),D.value.length>0?(d(),o("div",jt,[t("div",Et,[a[4]||(a[4]=t("span",null,"è¨‚å–®æ¸…å–®",-1)),t("span",It,s(D.value.length)+" ç­†",1)]),t("div",Vt,[(d(!0),o(T,null,N(D.value,e=>(d(),o("div",{key:e.id,class:"order-row",style:j({borderLeftColor:C(e.status)})},[t("div",Wt,s(e.id),1),t("div",$t,[t("span",Ft,s(e.customerName),1)]),t("div",zt,s(J(e.pickupTime)),1),t("div",Ht,s(e.items)+" é …",1),t("div",Jt,"$"+s(e.totalAmount),1),t("div",{class:"order-status",style:j({background:C(e.status)})},s(H(e.status)),5)],4))),128))])])):u("",!0),D.value.length===0&&O.value.length===0?(d(),o("div",Kt,[y(P,null,{default:B(()=>[y(f)]),_:1}),a[5]||(a[5]=t("p",null,"è©²æ—¥æœŸæš«ç„¡è¨‚å–®åŠå•†å“",-1))])):u("",!0)])])):u("",!0)])])}}},Qt=Q(Ut,[["__scopeId","data-v-6dc3df69"]]);export{Qt as default};
