import{_ as D,h as B,e as E,f as l,c as d,a as t,d as c,b as i,w as u,E as V,F as f,k as y,r as O,o,v as I,t as n,x as _,u as h,J as N,K as S}from"./index-DOMPc8ao.js";const z={class:"order-list"},A={class:"order-toolbar"},F={class:"toolbar-actions"},R={class:"month-title"},j={class:"orders"},J=["id"],K={class:"order-header"},L={class:"order-main-info"},P={class:"order-date"},q={key:0,class:"today-badge"},H={class:"order-progress"},Q={class:"progress-text"},W={class:"count"},X={key:0,class:"percent"},Z={key:0,class:"progress-bar"},$={key:0,class:"order-details"},G={class:"detail-item"},tt={class:"detail-value pending"},st={class:"detail-item"},et={class:"detail-value success"},at={class:"detail-item"},dt={class:"detail-value danger"},ot={__name:"index",setup(nt){const v=B([{month:"2026-01",orders:[{id:13,date:"2026-01-15",status:"收單中",totalOrders:30,pickedUp:0,pending:0,breached:0},{id:14,date:"2026-01-12",status:"收單中",totalOrders:13,pickedUp:0,pending:0,breached:0},{id:15,date:"2026-01-11",status:"收單中",totalOrders:25,pickedUp:0,pending:0,breached:0},{id:0,date:"2026-01-10",status:"已結單",totalOrders:20,pickedUp:18,pending:2,breached:0},{id:1,date:"2026-01-03",status:"已結單",totalOrders:15,pickedUp:8,pending:7,breached:0}]},{month:"2025-12",orders:[{id:2,date:"2025-12-28",status:"已結單",totalOrders:23,pickedUp:20,pending:3,breached:0},{id:3,date:"2025-12-25",status:"出貨結束",totalOrders:8,pickedUp:8,pending:0,breached:0},{id:4,date:"2025-12-20",status:"已結單",totalOrders:12,pickedUp:10,pending:2,breached:0},{id:5,date:"2025-12-15",status:"出貨結束",totalOrders:10,pickedUp:10,pending:0,breached:0},{id:6,date:"2025-12-10",status:"出貨結束",totalOrders:18,pickedUp:18,pending:0,breached:0},{id:7,date:"2025-12-05",status:"出貨結束",totalOrders:6,pickedUp:6,pending:0,breached:0}]},{month:"2025-11",orders:[{id:10,date:"2025-11-30",status:"出貨結束",totalOrders:13,pickedUp:11,pending:0,breached:2},{id:11,date:"2025-11-25",status:"出貨結束",totalOrders:9,pickedUp:8,pending:0,breached:1}]}]),U=e=>({收單中:"status-collecting",已結單:"status-closed",出貨結束:"status-completed"})[e]||"",x=e=>l(e).format("M月"),M=e=>l(e).format("YYYY/MM/DD"),m=e=>e?.totalOrders?Math.round(e.pickedUp/e.totalOrders*100):0,p=e=>l(e.date).isSame(l(),"day"),C=()=>l().format("YYYY-MM-DD"),T=E(()=>{const e=C();for(const a of v.value){const r=a.orders.find(b=>b.date===e);if(r)return r}return null}),Y=async()=>{await S();const e=document.getElementById("today-order-anchor");e&&e.scrollIntoView({behavior:"smooth",block:"center"})};return(e,a)=>{const r=V,b=O("Calendar"),k=I,w=O("ArrowRight");return o(),d("div",z,[t("div",A,[a[2]||(a[2]=t("div",{class:"toolbar-title"},[t("i",{class:"bx bx-list-check"}),c(" 訂單列表 ")],-1)),t("div",F,[i(r,{icon:"aim",disabled:!T.value,onClick:Y},{default:u(()=>[...a[0]||(a[0]=[c(" 今日 ",-1)])]),_:1},8,["disabled"]),i(r,{icon:"plus",type:"primary"},{default:u(()=>[...a[1]||(a[1]=[c("開單",-1)])]),_:1})])]),(o(!0),d(f,null,y(v.value,g=>(o(),d("div",{key:g.month,class:"month-group"},[t("h3",R,[i(k,null,{default:u(()=>[i(b)]),_:1}),c(" "+n(x(g.month)),1)]),t("div",j,[(o(!0),d(f,null,y(g.orders,s=>(o(),d("div",{class:"order-item-box",key:s.id,id:p(s)?"today-order-anchor":void 0},[t("div",{class:_(["order-item",{isToday:p(s)}])},[t("div",K,[t("div",L,[t("span",P,[c(n(M(s.date))+" ",1),p(s)?(o(),d("span",q,"今日")):h("",!0)]),t("span",{class:_(["order-status",U(s.status)])},n(s.status),3)]),t("div",H,[t("div",Q,[t("span",W,"訂單數："+n(s.totalOrders),1),s.status!=="收單中"?(o(),d("span",X,n(m(s))+"% ",1)):h("",!0)]),s.status!=="收單中"?(o(),d("div",Z,[t("div",{class:_(["progress-fill",{incomplete:m(s)<100}]),style:N({width:m(s)+"%"})},null,6)])):h("",!0)])]),s.status!=="收單中"?(o(),d("div",$,[t("div",G,[a[3]||(a[3]=t("span",{class:"detail-label"},"待取貨",-1)),t("span",tt,n(s.pending)+" 筆",1)]),t("div",st,[a[4]||(a[4]=t("span",{class:"detail-label"},"已取貨",-1)),t("span",et,n(s.pickedUp)+" 筆",1)]),t("div",at,[a[5]||(a[5]=t("span",{class:"detail-label"},"違約單",-1)),t("span",dt,n(s.breached)+" 筆",1)])])):h("",!0)],2),t("div",{class:_(["order-button",{isToday:p(s)}])},[i(k,null,{default:u(()=>[i(w)]),_:1})],2)],8,J))),128))])]))),128))])}}},rt=D(ot,[["__scopeId","data-v-00afdb80"]]);export{rt as default};
