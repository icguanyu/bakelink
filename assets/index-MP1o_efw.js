import{_ as w,f as D,h as T,I as r,c as o,a as t,d as c,b as n,w as p,E as B,F as v,j as x,r as k,o as i,u as E,t as d,s as I,v as V,J as N,K as S}from"./index-BD4Hr-wl.js";const j={class:"order-list"},z={class:"order-toolbar"},A={class:"toolbar-actions"},F={class:"month-title"},R={class:"orders"},J=["id"],K={class:"order-item"},L={class:"order-header"},P={class:"order-main-info"},q={class:"order-date"},H={key:0,class:"today-badge"},Q={class:"order-progress"},W={class:"progress-text"},X={class:"count"},Z={class:"percent"},$={class:"progress-bar"},G={class:"order-details"},tt={class:"detail-item"},st={class:"detail-value pending"},et={class:"detail-item"},at={class:"detail-value success"},dt={class:"order-button"},ot={__name:"index",setup(nt){const m=D([{month:"2026-01",orders:[{id:13,date:"2026-01-15",status:"收單中",totalOrders:30,pickedUp:0,pending:0,expanded:!1},{id:14,date:"2026-01-12",status:"收單中",totalOrders:13,pickedUp:0,pending:0,expanded:!1},{id:15,date:"2026-01-11",status:"收單中",totalOrders:25,pickedUp:0,pending:0,expanded:!1},{id:0,date:"2026-01-10",status:"已結單",totalOrders:20,pickedUp:18,pending:2,expanded:!1},{id:1,date:"2026-01-03",status:"收單中",totalOrders:15,pickedUp:8,pending:7,expanded:!1}]},{month:"2025-12",orders:[{id:2,date:"2025-12-28",status:"已結單",totalOrders:23,pickedUp:20,pending:3,expanded:!1},{id:3,date:"2025-12-25",status:"出貨結束",totalOrders:8,pickedUp:8,pending:0,expanded:!1},{id:4,date:"2025-12-20",status:"已結單",totalOrders:12,pickedUp:10,pending:2,expanded:!1},{id:5,date:"2025-12-15",status:"出貨結束",totalOrders:10,pickedUp:10,pending:0,expanded:!1},{id:6,date:"2025-12-10",status:"收單中",totalOrders:18,pickedUp:5,pending:13,expanded:!1},{id:7,date:"2025-12-05",status:"已結單",totalOrders:6,pickedUp:6,pending:0,expanded:!1}]},{month:"2025-11",orders:[{id:10,date:"2025-11-30",status:"出貨結束",totalOrders:13,pickedUp:13,pending:0,expanded:!1},{id:11,date:"2025-11-25",status:"出貨結束",totalOrders:9,pickedUp:9,pending:0,expanded:!1}]}]),y=s=>({收單中:"status-collecting",已結單:"status-closed",出貨結束:"status-completed"})[s]||"",b=s=>r(s).format("M月"),O=s=>r(s).format("YYYY/MM/DD"),f=s=>s?.totalOrders?Math.round(s.pickedUp/s.totalOrders*100):0,h=s=>r(s.date).isSame(r(),"day"),U=()=>r().format("YYYY-MM-DD"),M=T(()=>{const s=U();for(const e of m.value){const l=e.orders.find(u=>u.date===s);if(l)return l}return null}),C=async()=>{await S();const s=document.getElementById("today-order-anchor");s&&s.scrollIntoView({behavior:"smooth",block:"center"})};return(s,e)=>{const l=B,u=k("Calendar"),g=E,Y=k("ArrowRight");return i(),o("div",j,[t("div",z,[e[2]||(e[2]=t("div",{class:"toolbar-title"},[t("i",{class:"bx bx-list-check"}),c(" 訂單列表 ")],-1)),t("div",A,[n(l,{icon:"aim",disabled:!M.value,onClick:C},{default:p(()=>[...e[0]||(e[0]=[c(" 今日 ",-1)])]),_:1},8,["disabled"]),n(l,{icon:"plus",type:"primary"},{default:p(()=>[...e[1]||(e[1]=[c("開單",-1)])]),_:1})])]),(i(!0),o(v,null,x(m.value,_=>(i(),o("div",{key:_.month,class:"month-group"},[t("h3",F,[n(g,null,{default:p(()=>[n(u)]),_:1}),c(" "+d(b(_.month)),1)]),t("div",R,[(i(!0),o(v,null,x(_.orders,a=>(i(),o("div",{class:"order-item-box",key:a.id,id:h(a)?"today-order-anchor":void 0},[t("div",K,[t("div",L,[t("div",P,[t("span",q,[c(d(O(a.date))+" ",1),h(a)?(i(),o("span",H,"今日")):I("",!0)]),t("span",{class:V(["order-status",y(a.status)])},d(a.status),3)]),t("div",Q,[t("div",W,[t("span",X,"訂單："+d(a.totalOrders),1),t("span",Z,d(f(a))+"%",1)]),t("div",$,[t("div",{class:"progress-fill",style:N({width:f(a)+"%"})},null,4)])])]),t("div",G,[t("div",tt,[e[3]||(e[3]=t("span",{class:"detail-label"},"未取貨",-1)),t("span",st,d(a.pending)+" 筆",1)]),t("div",et,[e[4]||(e[4]=t("span",{class:"detail-label"},"已取貨",-1)),t("span",at,d(a.pickedUp)+" 筆",1)])])]),t("div",dt,[n(g,null,{default:p(()=>[n(Y)]),_:1})])],8,J))),128))])]))),128))])}}},lt=w(ot,[["__scopeId","data-v-deade5fc"]]);export{lt as default};
