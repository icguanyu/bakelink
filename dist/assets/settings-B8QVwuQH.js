import{_ as B,f as U,q as O,r as j,c as m,o as r,a as s,b as a,w as t,u as z,v as T,t as F,g as H,B as A,n as G,J as R,K as k,l as q,m as J,L as y,s as K,M as W,N as Q,O as X,F as P,j as N,P as Y,C as Z,E as ee,d as x,H as le,x as ae}from"./index-BXCPVCIO.js";/* empty css                     *//* empty css              */const se={class:"images-uploader"},oe={key:0,class:"image-item"},te=["src"],de={class:"upload-text"},ne={__name:"UploadPhoto",props:{modelValue:{type:String,default:""},disabled:Boolean},emits:["upload","delete","update:modelValue"],setup(h,{emit:w}){const V=h,i=w,o=U(!1),u=U(V.modelValue||""),g=async d=>{const e=d.target.files?.[0];if(!e)return;const v=URL.createObjectURL(e);u.value=v,i("upload",v),i("update:modelValue",v),d.target.value=""},E=d=>{u.value="",i("delete",d),i("update:modelValue","")};return O(()=>V.modelValue,d=>{u.value=d||""},{deep:!0}),(d,e)=>{const v=j("Delete"),C=z;return r(),m("div",se,[s("div",{class:T(["gallery",{"has-image":!!u.value}])},[u.value?(r(),m("div",oe,[s("img",{src:u.value,alt:"已上傳圖片"},null,8,te),a(C,{class:"delete-btn",onClick:e[0]||(e[0]=p=>E(0))},{default:t(()=>[a(v)]),_:1})])):(r(),m("label",{key:1,for:"image-upload",class:T([{disabled:o.value||h.disabled},"upload-box"])},[s("div",de,F(o.value?"上傳中...":"上傳圖片"),1)],2))],2),e[1]||(e[1]=s("small",{class:"hint"},"建議尺寸 600x400，檔案小於 1MB",-1)),s("input",{type:"file",id:"image-upload",accept:".png,.jpg,.jpeg,.webp",onChange:g},null,32)])}}},ue=B(ne,[["__scopeId","data-v-1761b7f1"]]),pe={class:"page"},ie={class:"segmented"},me={class:"flex flex-col gap-2"},re={class:"flex"},ve={key:0,class:"shipping-config"},be={class:"hours-head"},fe={class:"hours"},Ve={class:"day"},ge={__name:"settings",setup(h){const w=[{label:"現金",value:"cash"},{label:"銀行轉帳",value:"bank"},{label:"Line Pay",value:"linepay"},{label:"信用卡",value:"card"},{label:"街口支付",value:"jkpay"},{label:"Apple Pay",value:"applepay"}],V=[{label:"門市自取",value:"pickup"},{label:"宅配",value:"delivery"}],i=U(["一","二","三","四","五","六","日"].map(d=>({day:d,enabled:!["六","日"].includes(d),time:["09:00","18:00"]}))),o=H({avatar:"",shopName:"山丘烘焙坊",owner:"王麵麥",phone:"02-1234-5678",email:"hello@bakery.test",address:"台北市中山區麵包路 123 號",intro:"每日現烤小麥香，主打酸種、歐包與早午餐。",orderPickupTime:"14:00",paymentMethods:["cash"],pickupMethods:["pickup","delivery"],shipping:{freeThreshold:800,fee:100,note:"滿 $800 免運費，未滿貿 $100 運費。"},packaging:{defaultPack:"紙袋",packFee:5,ecoDiscount:10,note:"歡迎自備容器，享環保折扣。"}}),u=U("brand"),g=d=>{i.value=i.value.map(e=>({...e,enabled:d}))},E=()=>{const d={...o,businessHours:i.value};console.log("儲存商家設定：",d),ae.success("設定已儲存")};return(d,e)=>{const v=A,C=ue,p=J,n=q,b=R,M=W,D=Y,$=X,S=Q,c=Z,_=ee,I=le,L=G;return r(),m("div",pe,[s("div",ie,[a(v,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=l=>u.value=l),options:[{label:"01 基本",value:"brand"},{label:"02 取貨付款",value:"pay"},{label:"03 營業時間",value:"hours"},{label:"04 包裝",value:"pack"}]},null,8,["modelValue"])]),a(L,{"label-width":"80px","label-position":"left"},{default:t(()=>[s("div",me,[k(a(b,{class:"card",shadow:"never"},{default:t(()=>[e[22]||(e[22]=s("div",{class:"panel"},[s("div",{class:"panel__header"},[s("span",{class:"badge"},"01"),s("div",null,[s("p",{class:"label"},"品牌"),s("h3",null,"商店設定")])]),s("small",{class:"hint"},"請填寫商家基本資料，使用者可於前台查看")],-1)),e[23]||(e[23]=s("div",{class:"card__subtitle"},"標誌/LOGO",-1)),a(C,{modelValue:o.avatar,"onUpdate:modelValue":e[1]||(e[1]=l=>o.avatar=l),disabled:!1,onUpload:e[2]||(e[2]=l=>{o.avatar=l})},null,8,["modelValue"]),e[24]||(e[24]=s("br",null,null,-1)),e[25]||(e[25]=s("div",{class:"card__subtitle"},"基本資訊",-1)),a(n,{label:"店名"},{default:t(()=>[a(p,{modelValue:o.shopName,"onUpdate:modelValue":e[3]||(e[3]=l=>o.shopName=l),placeholder:"輸入店名"},null,8,["modelValue"])]),_:1}),a(n,{label:"負責人"},{default:t(()=>[a(p,{modelValue:o.owner,"onUpdate:modelValue":e[4]||(e[4]=l=>o.owner=l),placeholder:"負責人姓名"},null,8,["modelValue"])]),_:1}),a(n,{label:"電話"},{default:t(()=>[a(p,{modelValue:o.phone,"onUpdate:modelValue":e[5]||(e[5]=l=>o.phone=l),placeholder:"聯絡電話"},null,8,["modelValue"])]),_:1}),a(n,{label:"Email"},{default:t(()=>[a(p,{modelValue:o.email,"onUpdate:modelValue":e[6]||(e[6]=l=>o.email=l),placeholder:"聯絡信箱"},null,8,["modelValue"])]),_:1}),a(n,{label:"地址"},{default:t(()=>[a(p,{modelValue:o.address,"onUpdate:modelValue":e[7]||(e[7]=l=>o.address=l),placeholder:"門市地址"},null,8,["modelValue"])]),_:1}),a(n,{label:"介紹"},{default:t(()=>[a(p,{modelValue:o.intro,"onUpdate:modelValue":e[8]||(e[8]=l=>o.intro=l),type:"textarea",rows:3,placeholder:"品牌故事、主打品項"},null,8,["modelValue"])]),_:1})]),_:1},512),[[y,u.value==="brand"]]),k(a(b,{class:"card",shadow:"never"},{default:t(()=>[e[29]||(e[29]=s("div",{class:"panel"},[s("div",{class:"panel__header"},[s("span",{class:"badge"},"02"),s("div",null,[s("p",{class:"label"},"取貨與付款"),s("h3",null,"支付、取貨與宅配")])]),s("small",{class:"hint"},"設定取貨方式與接受的付款方式")],-1)),a(n,{label:"取貨時間"},{default:t(()=>[s("div",re,[a(M,{modelValue:o.orderPickupTime,"onUpdate:modelValue":e[9]||(e[9]=l=>o.orderPickupTime=l),placeholder:"開始",start:"06:00",step:"00:30",end:"22:00",filterable:!1,style:{width:"120px"}},null,8,["modelValue"]),e[26]||(e[26]=s("span",{class:"white-space-nowrap"},"後，開放取貨",-1))])]),_:1}),a(n,{label:"付款方式",prop:"paymentMethods"},{default:t(()=>[a(S,{modelValue:o.paymentMethods,"onUpdate:modelValue":e[10]||(e[10]=l=>o.paymentMethods=l)},{default:t(()=>[a($,{wrap:""},{default:t(()=>[(r(),m(P,null,N(w,l=>a(D,{key:l.value,label:l.label,value:l.value,border:""},null,8,["label","value"])),64))]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(n,{label:"取貨方式",prop:"pickupMethods"},{default:t(()=>[a(S,{modelValue:o.pickupMethods,"onUpdate:modelValue":e[11]||(e[11]=l=>o.pickupMethods=l)},{default:t(()=>[a($,{wrap:""},{default:t(()=>[(r(),m(P,null,N(V,l=>a(D,{key:l.value,label:l.label,value:l.value,border:""},null,8,["label","value"])),64))]),_:1})]),_:1},8,["modelValue"])]),_:1}),o.pickupMethods.includes("delivery")?(r(),m("div",ve,[a(n,{label:"運費"},{default:t(()=>[a(c,{modelValue:o.shipping.fee,"onUpdate:modelValue":e[12]||(e[12]=l=>o.shipping.fee=l),min:0,max:500,precision:0},null,8,["modelValue"]),e[27]||(e[27]=s("span",{class:"suffix"},"元",-1))]),_:1}),a(n,{label:"免運門檻"},{default:t(()=>[a(c,{modelValue:o.shipping.freeThreshold,"onUpdate:modelValue":e[13]||(e[13]=l=>o.shipping.freeThreshold=l),min:0,max:5e3,step:100,precision:0},null,8,["modelValue"]),e[28]||(e[28]=s("span",{class:"suffix"},"元（設 0 = 不提供免運）",-1))]),_:1}),a(n,{label:"備註"},{default:t(()=>[a(p,{modelValue:o.shipping.note,"onUpdate:modelValue":e[14]||(e[14]=l=>o.shipping.note=l),type:"textarea",rows:2,placeholder:"運費說明、配送範圍等"},null,8,["modelValue"])]),_:1})])):K("",!0)]),_:1},512),[[y,u.value==="pay"]]),k(a(b,{class:"card",shadow:"never"},{default:t(()=>[e[33]||(e[33]=s("div",{class:"panel"},[s("div",{class:"panel__header"},[s("span",{class:"badge"},"03"),s("div",null,[s("p",{class:"label"},"營業"),s("h3",null,"營業時間")])]),s("small",{class:"hint"},"門市實際營業時間")],-1)),s("div",be,[e[32]||(e[32]=s("span",null,"週一～週日",-1)),a($,null,{default:t(()=>[a(_,{size:"small",text:"",onClick:e[15]||(e[15]=l=>g(!0))},{default:t(()=>[...e[30]||(e[30]=[x("全開",-1)])]),_:1}),a(_,{size:"small",text:"",onClick:e[16]||(e[16]=l=>g(!1))},{default:t(()=>[...e[31]||(e[31]=[x("全關",-1)])]),_:1})]),_:1})]),s("div",fe,[(r(!0),m(P,null,N(i.value,(l,ce)=>(r(),m("div",{key:l.day,class:"hour-row"},[a(I,{modelValue:l.enabled,"onUpdate:modelValue":f=>l.enabled=f},null,8,["modelValue","onUpdate:modelValue"]),s("span",Ve,"週"+F(l.day),1),a(M,{modelValue:l.time[0],"onUpdate:modelValue":f=>l.time[0]=f,disabled:!l.enabled,placeholder:"開始",start:"06:00",step:"00:30",end:"22:00",filterable:!1},null,8,["modelValue","onUpdate:modelValue","disabled"]),a(M,{modelValue:l.time[1],"onUpdate:modelValue":f=>l.time[1]=f,disabled:!l.enabled,placeholder:"結束",start:"06:00",step:"00:30",end:"22:00",filterable:!1},null,8,["modelValue","onUpdate:modelValue","disabled"])]))),128))])]),_:1},512),[[y,u.value==="hours"]]),k(a(b,{class:"card",shadow:"never"},{default:t(()=>[e[36]||(e[36]=s("div",{class:"panel"},[s("div",{class:"panel__header"},[s("span",{class:"badge"},"04"),s("div",null,[s("p",{class:"label"},"包裝"),s("h3",null,"包裝設定")])]),s("small",{class:"hint"},"是否提供包裝選項")],-1)),a(n,{label:"預設包裝"},{default:t(()=>[a(p,{modelValue:o.packaging.defaultPack,"onUpdate:modelValue":e[17]||(e[17]=l=>o.packaging.defaultPack=l),placeholder:"紙袋/紙盒/裸裝"},null,8,["modelValue"])]),_:1}),a(n,{label:"包裝費"},{default:t(()=>[a(c,{modelValue:o.packaging.packFee,"onUpdate:modelValue":e[18]||(e[18]=l=>o.packaging.packFee=l),min:0,max:50,precision:0},null,8,["modelValue"]),e[34]||(e[34]=s("span",{class:"suffix"},"元/單",-1))]),_:1}),a(n,{label:"環保折抵"},{default:t(()=>[a(c,{modelValue:o.packaging.ecoDiscount,"onUpdate:modelValue":e[19]||(e[19]=l=>o.packaging.ecoDiscount=l),min:0,max:50,precision:0},null,8,["modelValue"]),e[35]||(e[35]=s("span",{class:"suffix"},"元/單",-1))]),_:1}),a(n,{label:"備註"},{default:t(()=>[a(p,{modelValue:o.packaging.note,"onUpdate:modelValue":e[20]||(e[20]=l=>o.packaging.note=l),type:"textarea",rows:2,placeholder:"自備餐具優惠、保冷袋租借等"},null,8,["modelValue"])]),_:1})]),_:1},512),[[y,u.value==="pack"]])])]),_:1}),a(b,{class:"actions",shadow:"never"},{default:t(()=>[a(_,{onClick:e[21]||(e[21]=l=>d.$router.go(-1))},{default:t(()=>[...e[37]||(e[37]=[x("取消",-1)])]),_:1}),a(_,{type:"primary",onClick:E},{default:t(()=>[...e[38]||(e[38]=[x(" 儲存設定 ",-1)])]),_:1})]),_:1})])}}},xe=B(ge,[["__scopeId","data-v-313ad570"]]);export{xe as default};
